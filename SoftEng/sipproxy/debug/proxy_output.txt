DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: e02497e632d080f4a8fe7ec928be8cfb@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=21960496
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK2d1815cd2b7ab0a573af42be5899a373
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 35

SIGNUP mrsk7:Mike:Rozis:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: fae2984486af3d45ea8d3fa770bd2380@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=21960496
To: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5fb1b64e279522213c0735ce6121e6a4
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "null"
Registrar, processRegister(), key is null 400 INVALID REQUEST replied
PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: fae2984486af3d45ea8d3fa770bd2380@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=21960496
To: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5fb1b64e279522213c0735ce6121e6a4
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:mrsk7@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: ade07065309c0e3c6b48c79947e30fdb@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=30332036
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK10b130335af56be341e5e52b98105f79
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 25

SIGNUP Mike:::Rozis:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: a3a0e1500cae84baf29b5a7c2a1a8f20@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=30332036
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK01ad4e0a2609800523968cdd622d43b3
Max-Forwards: 70
Pwd: Rozis
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "null"
Registrar, processRegister(), key is null 400 INVALID REQUEST replied
PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: a3a0e1500cae84baf29b5a7c2a1a8f20@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=30332036
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK01ad4e0a2609800523968cdd622d43b3
Max-Forwards: 70
Pwd: Rozis
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Mike@192.168.1.2:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 35cc11399e4c6e4325191fc3d17eef88@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=12622145
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK08df76fcfaa892919acfa4ce120c6015
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 23

SIGNUP Mike:::B:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 22b0a2ce939c29ce223d518059a06889@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=12622145
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKac1b9452ea8e0c76899613d00053f617
Max-Forwards: 70
Pwd: B
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mike@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mike@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:mike@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mike@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 22b0a2ce939c29ce223d518059a06889@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=12622145
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKac1b9452ea8e0c76899613d00053f617
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 22b0a2ce939c29ce223d518059a06889@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=12622145
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKac1b9452ea8e0c76899613d00053f617
Max-Forwards: 70
Pwd: B
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Mike@192.168.1.2:4000
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: d9aa25a8d1580fd64da3065e9148b036@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3c1048a9eaee7081b4fae2687fc4ac9a
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 32

SIGNUP Mike:Mike:Rozis:1:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: cf2465880428b963c07021828efeb1e1@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK42b51c4255da48d1a8d8dab43ab7a451
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mike@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mike@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:mike@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mike@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: cf2465880428b963c07021828efeb1e1@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK42b51c4255da48d1a8d8dab43ab7a451
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: cf2465880428b963c07021828efeb1e1@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK42b51c4255da48d1a8d8dab43ab7a451
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Mike@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 09d748474b5b7dc91cb3a26ed5342b51@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Nikos@192.168.1.2:4000;transport=udp>;tag=33502040
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:24102;branch=z9hG4bK6a71799e0f26400200e8c54c97198467
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 34

SIGNUP Nikos:Nick:Terlemes:2:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 1c8e89e230d855248ddb37eb3a46ab34@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Nikos@192.168.1.2:4000;transport=udp>;tag=33502040
To: "KLOUP" <sip:Nikos@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:24102;branch=z9hG4bK2c307e16b4e23863eadbf669b508665b
Max-Forwards: 70
Pwd: 2
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:24102;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:nikos@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:nikos@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:24102 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:nikos@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mike@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:nikos@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:24102;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1c8e89e230d855248ddb37eb3a46ab34@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Nikos@192.168.1.2:4000;transport=udp>;tag=33502040
To: "KLOUP" <sip:Nikos@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:24102;branch=z9hG4bK2c307e16b4e23863eadbf669b508665b
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:24102;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 1c8e89e230d855248ddb37eb3a46ab34@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Nikos@192.168.1.2:4000;transport=udp>;tag=33502040
To: "KLOUP" <sip:Nikos@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:24102;branch=z9hG4bK2c307e16b4e23863eadbf669b508665b
Max-Forwards: 70
Pwd: 2
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:24102;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Nikos@192.168.1.2:4000

****************************************************
Request INVITE received:
INVITE sip:Nikos@192.168.1.2:4000 SIP/2.0
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbb23a0e100e864b3669f933eba0676f1
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:nikos@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@1d7cc2c5
dialog =  gov.nist.javax.sip.stack.SIPDialog@1850507
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.2:24102 SIP/2.0
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKf2d1c1926c94b05d5de684d7d821baeb,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbb23a0e100e864b3669f933eba0676f1
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.2 port:24102 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.2:24102 SIP/2.0
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK235cdbb88973f1c125b4bd579d1b9938,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbb23a0e100e864b3669f933eba0676f1
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK235cdbb88973f1c125b4bd579d1b9938,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbb23a0e100e864b3669f933eba0676f1
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a312fd2
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1044f78
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>;tag=31018112
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK235cdbb88973f1c125b4bd579d1b9938,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbb23a0e100e864b3669f933eba0676f1
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a312fd2
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1044f78
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>;tag=31018112
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbb23a0e100e864b3669f933eba0676f1
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>;tag=31018112
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK235cdbb88973f1c125b4bd579d1b9938,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbb23a0e100e864b3669f933eba0676f1
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.2:24102;transport=udp>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a312fd2
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1044f78
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:31018112
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>;tag=31018112
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbb23a0e100e864b3669f933eba0676f1
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.2:24102;transport=udp>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


****************************************************
Request ACK received:
ACK sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>;tag=31018112
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.2:24102;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@1b912b92
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1850507
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:nikos@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@1b912b92
dialog =  gov.nist.javax.sip.stack.SIPDialog@1850507
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@113cefe
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@1d7cc2c5
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1850507
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@a312fd2, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.2:24102 SIP/2.0
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
To: <sip:Nikos@192.168.1.2:4000>;tag=31018112
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKf2f066775ad0c88d10b390df10fed615,SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 69
Route: "KLOUP" <sip:192.168.1.2:24102;transport=udp>
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 BYE
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>;tag=20829676
From: <sip:Nikos@192.168.1.2:4000>;tag=31018112
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.2:24102;branch=z9hG4bKc377d4e38c41664684d61f8b42eb3340
Route: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@baca5ffb
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1044f78
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 4563f6180e5d9ef71f45f3a5bb7ae03f@192.168.1.2
CSeq: 1 BYE
To: "KLOUP" <sip:Mike@192.168.1.2:4000;transport=udp>
From: <sip:Nikos@192.168.1.2:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.2:4000,SIP/2.0/UDP 192.168.1.2:24102;branch=z9hG4bKc377d4e38c41664684d61f8b42eb3340
Route: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.2:5060/udp
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 6dd49337ce73c0b44f8e014ad1cb4819@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbf23a3ed26ed108aea4dda3d11bac56a
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 32

SIGNUP Mixalis:123:123:123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: e1256c26d3a6dbf8861d270e079de8c6@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf1f34e2a2398c59b81823ed3925038a1
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mixalis@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mixalis@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:mixalis@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mixalis@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e1256c26d3a6dbf8861d270e079de8c6@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf1f34e2a2398c59b81823ed3925038a1
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: e1256c26d3a6dbf8861d270e079de8c6@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf1f34e2a2398c59b81823ed3925038a1
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Mixalis@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 92dabd7b980da5fcce6606d5ff8b60bb@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7548c09a9e68789af62065c0e0a2455b
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 32

SIGNUP Takeo:123:123:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: c198631b5cecbaa8014716bbd5eab2a8@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK0d1d8591f93cb8bf875cfdadd94336ce
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mixalis@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c198631b5cecbaa8014716bbd5eab2a8@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK0d1d8591f93cb8bf875cfdadd94336ce
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: c198631b5cecbaa8014716bbd5eab2a8@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK0d1d8591f93cb8bf875cfdadd94336ce
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Takeo@192.168.1.2:4000

****************************************************
Request INVITE received:
INVITE sip:Takeo@192.168.1.2:4000 SIP/2.0
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKe060d308db4f2b990261a7baf3d8db3c
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@a0eb8b5c
dialog =  gov.nist.javax.sip.stack.SIPDialog@ff8399
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK94b6b0930751e68898801329ca734b35,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKe060d308db4f2b990261a7baf3d8db3c
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.4 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK461d3c8d58ccd25ae4cfefcc1aae0dc2,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKe060d308db4f2b990261a7baf3d8db3c
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK461d3c8d58ccd25ae4cfefcc1aae0dc2,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKe060d308db4f2b990261a7baf3d8db3c
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@392af917
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f997aa
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK461d3c8d58ccd25ae4cfefcc1aae0dc2,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKe060d308db4f2b990261a7baf3d8db3c
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@392af917
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f997aa
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKe060d308db4f2b990261a7baf3d8db3c
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK461d3c8d58ccd25ae4cfefcc1aae0dc2,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKe060d308db4f2b990261a7baf3d8db3c
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@392af917
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f997aa
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:31816475
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKe060d308db4f2b990261a7baf3d8db3c
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@919fc8d1
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ff8399
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@919fc8d1
dialog =  gov.nist.javax.sip.stack.SIPDialog@ff8399
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@9fa55
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@a0eb8b5c
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@ff8399
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@392af917, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.4:5060 SIP/2.0
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKb2c0cbc57047ec99b082b4fe9067717f,SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 69
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKa612eb01cc53f66f4ae4fb1f9bbf0196
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@13eba7c9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@ff8399
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKa612eb01cc53f66f4ae4fb1f9bbf0196
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.4:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK4ee23b22b0d42adb6acec06684649d0d,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKa612eb01cc53f66f4ae4fb1f9bbf0196
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6226dfaa
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f997aa
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: cffd951af60952a67235fb0965a2d5cf@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:Mixalis@192.168.1.2:4000;transport=udp>;tag=26170928
To: <sip:Takeo@192.168.1.2:4000>;tag=31816475
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKa612eb01cc53f66f4ae4fb1f9bbf0196
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 65fa644d316874a976a1671725442218@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd6e8a2175f74db1d4902e6a10f259d8a
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 30

SIGNUP Takeo:123:123:123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 65fa644d316874a976a1671725442218@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd6e8a2175f74db1d4902e6a10f259d8a
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 30

SIGNUP Takeo:123:123:123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 0525e8aa4afa5701078c8be4a6839ed6@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKaf21fad8e9a96d9afa2df2050c66880c
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0525e8aa4afa5701078c8be4a6839ed6@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKaf21fad8e9a96d9afa2df2050c66880c
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 0525e8aa4afa5701078c8be4a6839ed6@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKaf21fad8e9a96d9afa2df2050c66880c
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Takeo@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 3a7543c6cffa8e55f6bd8f26f63c368c@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKdbe18a6f0fef61f273ad1a386af05cf3
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP Mix:::mix:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 8f8349a4be545414f0f7b36c2525984e@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK8225ad6d1dca12eb3d4f74979b2e17d6
Max-Forwards: 70
Pwd: mix
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mix@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mix@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:mix@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mix@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 8f8349a4be545414f0f7b36c2525984e@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK8225ad6d1dca12eb3d4f74979b2e17d6
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 8f8349a4be545414f0f7b36c2525984e@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK8225ad6d1dca12eb3d4f74979b2e17d6
Max-Forwards: 70
Pwd: mix
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Mix@192.168.1.2:4000

****************************************************
Request INVITE received:
INVITE sip:Takeo@192.168.1.2:4000 SIP/2.0
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb20638c5aef1d306ab08737b6b627453
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@565297e3
dialog =  gov.nist.javax.sip.stack.SIPDialog@1cfdf55
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK9f62acd871228d72a805bbc38d633063,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb20638c5aef1d306ab08737b6b627453
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.4 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKf0ebcdcc0ac81c22386aa564f0bc4444,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb20638c5aef1d306ab08737b6b627453
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKf0ebcdcc0ac81c22386aa564f0bc4444,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb20638c5aef1d306ab08737b6b627453
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@dca072ec
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@a6edb5
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKf0ebcdcc0ac81c22386aa564f0bc4444,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb20638c5aef1d306ab08737b6b627453
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@dca072ec
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@a6edb5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb20638c5aef1d306ab08737b6b627453
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKf0ebcdcc0ac81c22386aa564f0bc4444,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb20638c5aef1d306ab08737b6b627453
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@dca072ec
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@a6edb5
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:11715138
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb20638c5aef1d306ab08737b6b627453
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@18c6447b
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cfdf55
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@18c6447b
dialog =  gov.nist.javax.sip.stack.SIPDialog@1cfdf55
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@17343c7
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@565297e3
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1cfdf55
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@dca072ec, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.4:5060 SIP/2.0
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK7aabd5df46fa0abb288ca3e29a698335,SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 69
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKaa2cb6434c21b9eafe375a0e72b6d22c
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@10788516
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1cfdf55
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>
To: <sip:Takeo@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKaa2cb6434c21b9eafe375a0e72b6d22c
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.4:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK372ed6db769af27ca3d1be8f39b64692,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKaa2cb6434c21b9eafe375a0e72b6d22c
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@a3d5bfaa
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@a6edb5
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 036bbd36411aec824ac3f982c6f5ff22@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:Mix@192.168.1.2:4000;transport=udp>;tag=25433338
To: <sip:Takeo@192.168.1.2:4000>;tag=11715138
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKaa2cb6434c21b9eafe375a0e72b6d22c
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: cd3ac1089b22046d935af92bae8ba6b5@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKbd35f0ef81519d8a3a43f20020726fe6
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP mix:1:1:1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 5e6f4d3e1126ecc2105f9ae73946288e@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd7561d84991d8760ab6107547bc8a00f
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mix@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mix@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:mix@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mix@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 5e6f4d3e1126ecc2105f9ae73946288e@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd7561d84991d8760ab6107547bc8a00f
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 5e6f4d3e1126ecc2105f9ae73946288e@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd7561d84991d8760ab6107547bc8a00f
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:mix@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 392b07bf89f4e6f7e3743729149672ea@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK692a7304b1d19cbf7ec5c8c971503d36
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP tt:1::1:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 0897f06e19854d23f4ce8b69cb28e58b@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc02dc287af156ba87eae89b88d134fdd
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tt@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tt@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tt@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tt@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:mix@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0897f06e19854d23f4ce8b69cb28e58b@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc02dc287af156ba87eae89b88d134fdd
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 0897f06e19854d23f4ce8b69cb28e58b@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc02dc287af156ba87eae89b88d134fdd
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tt@192.168.1.2:4000

****************************************************
Request INVITE received:
INVITE sip:tt@192.168.1.2:4000 SIP/2.0
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4baba67d1c7bbcb20b7fbd519302a0da
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tt@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@62eca065
dialog =  gov.nist.javax.sip.stack.SIPDialog@33bb11
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK9fb4b0a53169422e85775bd99560d1e3,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4baba67d1c7bbcb20b7fbd519302a0da
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.4 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK7cdf75abb1139f5038de1f399ae27654,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4baba67d1c7bbcb20b7fbd519302a0da
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK7cdf75abb1139f5038de1f399ae27654,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4baba67d1c7bbcb20b7fbd519302a0da
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9c1c2d39
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e05ddd
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK7cdf75abb1139f5038de1f399ae27654,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4baba67d1c7bbcb20b7fbd519302a0da
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9c1c2d39
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e05ddd
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4baba67d1c7bbcb20b7fbd519302a0da
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK7cdf75abb1139f5038de1f399ae27654,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4baba67d1c7bbcb20b7fbd519302a0da
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@9c1c2d39
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e05ddd
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:3016726
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4baba67d1c7bbcb20b7fbd519302a0da
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@5bf726a4
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@33bb11
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tt@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@5bf726a4
dialog =  gov.nist.javax.sip.stack.SIPDialog@33bb11
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@48ec4f
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@62eca065
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@33bb11
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@9c1c2d39, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.4:5060 SIP/2.0
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKfc9656ade518bb97c8177515a1611f6b,SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 69
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5717df54781f606a962ae76fdede7f8d
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@f58c58ee
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@33bb11
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5717df54781f606a962ae76fdede7f8d
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.4:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK29622c8502fe94f85b53f3831ef3b56c,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5717df54781f606a962ae76fdede7f8d
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b1965ab2
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1e05ddd
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 3443c062dfe7287c49b34c57b5cfc185@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=15883032
To: <sip:tt@192.168.1.2:4000>;tag=3016726
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5717df54781f606a962ae76fdede7f8d
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:mix@192.168.1.2:4000 SIP/2.0
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK066bfa19a0b7f35374759c22588db3fd
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:mix@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@265cef66
dialog =  gov.nist.javax.sip.stack.SIPDialog@14defcc
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.2:5060 SIP/2.0
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK5d283a9969da5d8a2b69ebccc069b457,SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK066bfa19a0b7f35374759c22588db3fd
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.2 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.2:5060 SIP/2.0
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKa91f628cb81a4e211bb4443d76f45628,SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK066bfa19a0b7f35374759c22588db3fd
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>;tag=5589457
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKa91f628cb81a4e211bb4443d76f45628,SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK066bfa19a0b7f35374759c22588db3fd
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c25bb151
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1f7c46e
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>;tag=5589457
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK066bfa19a0b7f35374759c22588db3fd
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>;tag=5589457
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKa91f628cb81a4e211bb4443d76f45628,SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK066bfa19a0b7f35374759c22588db3fd
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@c25bb151
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1f7c46e
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:5589457
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>;tag=5589457
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK066bfa19a0b7f35374759c22588db3fd
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


****************************************************
Request ACK received:
ACK sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 ACK
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>;tag=5589457
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=3139322e3136382e312e343a3530363
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@77067f69
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14defcc
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:mix@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@77067f69
dialog =  gov.nist.javax.sip.stack.SIPDialog@14defcc
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@19dd00d
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@265cef66
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@14defcc
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@c25bb151, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.2:5060 SIP/2.0
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 ACK
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
To: <sip:mix@192.168.1.2:4000>;tag=5589457
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK784a7002d86f945ba194ec7fc8f7ae87,SIP/2.0/UDP 192.168.1.4:5060;branch=3139322e3136382e312e343a3530363
Max-Forwards: 69
Route: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 BYE
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
From: <sip:mix@192.168.1.2:4000>;tag=5589457
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKa1d2186d0e554b80b62eaf0ba0db6ff2
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@e0684614
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1f7c46e
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 BYE
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
From: <sip:mix@192.168.1.2:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.2:4000,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKa1d2186d0e554b80b62eaf0ba0db6ff2
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.4:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 BYE
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
From: <sip:mix@192.168.1.2:4000>;tag=5589457
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKbe5ad878dbbe197b1858583049c8a83a,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKa1d2186d0e554b80b62eaf0ba0db6ff2
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@b32d9900
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@14defcc
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: 49edc44ef523b637a46cf2282361d1aa@192.168.1.4
CSeq: 1 BYE
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=22505839
From: <sip:mix@192.168.1.2:4000>;tag=5589457
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKa1d2186d0e554b80b62eaf0ba0db6ff2
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: d9cdd39ce89bee347c75194ffa914a7f@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK8f76f6eadd3661a6ca0649604c1e829c
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP mix:::2:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: d145347133753fac2e211f1935bf8d3d@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKc896670df781ba937cfebe2aa9f9ebc7
Max-Forwards: 70
Pwd: 2
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mix@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mix@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:mix@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mix@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d145347133753fac2e211f1935bf8d3d@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKc896670df781ba937cfebe2aa9f9ebc7
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: d145347133753fac2e211f1935bf8d3d@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKc896670df781ba937cfebe2aa9f9ebc7
Max-Forwards: 70
Pwd: 2
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:mix@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: d1833c8c780705034432348ae975a626@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK66e64eef0e7d9ee755e8a6f656ee22eb
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP tt:::12:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 9853608acef56eed8220cef5a4cef45f@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK904112a0f055ce6df54916fb4b6f8eb0
Max-Forwards: 70
Pwd: 12
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tt@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tt@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tt@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tt@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:mix@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9853608acef56eed8220cef5a4cef45f@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK904112a0f055ce6df54916fb4b6f8eb0
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 9853608acef56eed8220cef5a4cef45f@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK904112a0f055ce6df54916fb4b6f8eb0
Max-Forwards: 70
Pwd: 12
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tt@192.168.1.2:4000

****************************************************
Request INVITE received:
INVITE sip:tt@192.168.1.2:4000 SIP/2.0
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc91a2c3262674848ca083239e2ae1db
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tt@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@1308bd91
dialog =  gov.nist.javax.sip.stack.SIPDialog@6edffb
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK05c9053635570f3df3818e17199463c7,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc91a2c3262674848ca083239e2ae1db
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.4 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK2030008e85e3a2b403329827e3c01102,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc91a2c3262674848ca083239e2ae1db
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK2030008e85e3a2b403329827e3c01102,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc91a2c3262674848ca083239e2ae1db
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6be553b8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3f1e93
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK2030008e85e3a2b403329827e3c01102,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc91a2c3262674848ca083239e2ae1db
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6be553b8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3f1e93
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc91a2c3262674848ca083239e2ae1db
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK2030008e85e3a2b403329827e3c01102,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc91a2c3262674848ca083239e2ae1db
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@6be553b8
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3f1e93
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:11931757
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc91a2c3262674848ca083239e2ae1db
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@13bd17b5
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@6edffb
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tt@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@13bd17b5
dialog =  gov.nist.javax.sip.stack.SIPDialog@6edffb
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@1e27131
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@1308bd91
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@6edffb
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@6be553b8, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.4:5060 SIP/2.0
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK715e311320c8ca9a8401ffd60c508238,SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 69
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKcd9fe35201d3d69f986c234514bc56dc
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@178cff9
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@6edffb
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKcd9fe35201d3d69f986c234514bc56dc
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.4:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKe6dd5fb22b9bd561e22123474a2df0dc,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKcd9fe35201d3d69f986c234514bc56dc
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@ade3d02e
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@3f1e93
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: e3f86ed8c2f62c46dd9bad417764ab7b@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=11931757
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKcd9fe35201d3d69f986c234514bc56dc
Max-Forwards: 70
Content-Length: 0



****************************************************
Request INVITE received:
INVITE sip:tt@192.168.1.2:4000 SIP/2.0
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd0204e1e566b3d22a6797caecbb71725
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tt@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@39828510
dialog =  gov.nist.javax.sip.stack.SIPDialog@135151
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK22558328e526c4f5755cb50ae29dd344,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd0204e1e566b3d22a6797caecbb71725
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.4 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK532a5b208286fa11a3b8d8b59cb77e24,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd0204e1e566b3d22a6797caecbb71725
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK532a5b208286fa11a3b8d8b59cb77e24,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd0204e1e566b3d22a6797caecbb71725
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3acdfc08
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9fe17d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd0204e1e566b3d22a6797caecbb71725
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK532a5b208286fa11a3b8d8b59cb77e24,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd0204e1e566b3d22a6797caecbb71725
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@3acdfc08
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9fe17d
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:18604545
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 INVITE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd0204e1e566b3d22a6797caecbb71725
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@65a5f2b2
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@135151
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:tt@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@65a5f2b2
dialog =  gov.nist.javax.sip.stack.SIPDialog@135151
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@d82990
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@39828510
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@135151
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@3acdfc08, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.4:5060 SIP/2.0
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 1 ACK
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK2c533f25fdcdc2da4e100feab64180f4,SIP/2.0/UDP 192.168.1.2:5060;branch=3139322e3136382e312e323a3530363
Max-Forwards: 69
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK7fcb1680306232fec6b3ea50fe2c3648
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@2a416313
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@135151
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>
To: <sip:tt@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK7fcb1680306232fec6b3ea50fe2c3648
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.4:5060/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKca5cf39ef7f3b394e6f1f013c101d756,SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK7fcb1680306232fec6b3ea50fe2c3648
Max-Forwards: 70
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@7fb172d9
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@9fe17d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: f59d726a57d9492af17480e96bc01099@192.168.1.2
CSeq: 2 BYE
From: "KLOUP" <sip:mix@192.168.1.2:4000;transport=udp>;tag=17019782
To: <sip:tt@192.168.1.2:4000>;tag=18604545
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK7fcb1680306232fec6b3ea50fe2c3648
Max-Forwards: 70
Content-Length: 0


Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 1acab4bb36f10d54dc5058b572490cc2@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=14848395
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK065c51573932723f9483b358f61ff71a
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP mrsk7:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 1acab4bb36f10d54dc5058b572490cc2@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=14848395
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK065c51573932723f9483b358f61ff71a
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP mrsk7:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 2f8ae5c9b05e1d1f84fd2a36d2408286@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=14848395
To: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd1b8468c6cba4125cb544d6cce003cb1
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mrsk7@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mrsk7@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:mrsk7@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mrsk7@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2f8ae5c9b05e1d1f84fd2a36d2408286@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=14848395
To: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd1b8468c6cba4125cb544d6cce003cb1
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 2f8ae5c9b05e1d1f84fd2a36d2408286@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=14848395
To: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd1b8468c6cba4125cb544d6cce003cb1
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:mrsk7@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 2f8ae5c9b05e1d1f84fd2a36d2408286@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=14848395
To: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3c6cfc6bcce0f4c60eedef4d792bee70
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mrsk7@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mrsk7@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:mrsk7@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:mrsk7@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:5060 has been removed for the key: sip:mrsk7@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mrsk7@192.168.1.2:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:mrsk7@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:mrsk7@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 2f8ae5c9b05e1d1f84fd2a36d2408286@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=14848395
To: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3c6cfc6bcce0f4c60eedef4d792bee70
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 2f8ae5c9b05e1d1f84fd2a36d2408286@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=14848395
To: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3c6cfc6bcce0f4c60eedef4d792bee70
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:mrsk7@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: fded718ebc5b998cecfd03b3ace08c7b@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:mrsk7@192.168.1.2:4000;transport=udp>;tag=12115732
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK39505a2253a34938045bb7268e338513
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP mrsk7:::1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 18ffd383e20b966627db93f23345950f@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>;tag=12115732
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3e5eae9970ce1c54e94c1a93429fd367
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP mik:::1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: f9de7b56d83f47e2ca19825631061041@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>;tag=12115732
To: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf00d1fb65ce87bf1d4b1a1fdddf67fe8
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mik@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mik@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.2:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:mik@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mik@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f9de7b56d83f47e2ca19825631061041@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>;tag=12115732
To: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf00d1fb65ce87bf1d4b1a1fdddf67fe8
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: f9de7b56d83f47e2ca19825631061041@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>;tag=12115732
To: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf00d1fb65ce87bf1d4b1a1fdddf67fe8
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:mik@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: f9de7b56d83f47e2ca19825631061041@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>;tag=12115732
To: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf4203681090d67ffbc414aa93e2d67f9
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:mik@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:mik@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:mik@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:mik@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:5060 has been removed for the key: sip:mik@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:mik@192.168.1.2:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:mik@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:mik@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f9de7b56d83f47e2ca19825631061041@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>;tag=12115732
To: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf4203681090d67ffbc414aa93e2d67f9
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: f9de7b56d83f47e2ca19825631061041@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>;tag=12115732
To: "KLOUP" <sip:mik@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf4203681090d67ffbc414aa93e2d67f9
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:mik@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 32b3caa82ac228651ba504e7d36ed8be@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK988f0b390dedb821b319bf41b6753f61
Max-Forwards: 70
Pwd: 12
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "null"
Registrar, processRegister(), key is null 400 INVALID REQUEST replied
PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 32b3caa82ac228651ba504e7d36ed8be@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:tt@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK988f0b390dedb821b319bf41b6753f61
Max-Forwards: 70
Pwd: 12
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:tt@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 628b0cff90f7e9203266bebda22a9e4a@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>;tag=21478430
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3a4fdd781052a4736b3dca2e0cf2d5e8
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP nou:::1:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 3d8b7e139a749688525bcc933136c41a@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>;tag=21478430
To: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK93e9b14755a374d3258ad012a63caa20
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:nou@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:nou@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.2:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:nou@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:nou@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d8b7e139a749688525bcc933136c41a@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>;tag=21478430
To: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK93e9b14755a374d3258ad012a63caa20
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 3d8b7e139a749688525bcc933136c41a@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>;tag=21478430
To: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK93e9b14755a374d3258ad012a63caa20
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:nou@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 3d8b7e139a749688525bcc933136c41a@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>;tag=21478430
To: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK9f9add2fd9c2340db1b1ed1655a828cf
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:nou@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:nou@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:nou@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:nou@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:5060 has been removed for the key: sip:nou@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:nou@192.168.1.2:4000"
- contacts: 

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:nou@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:nou@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d8b7e139a749688525bcc933136c41a@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>;tag=21478430
To: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK9f9add2fd9c2340db1b1ed1655a828cf
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 3d8b7e139a749688525bcc933136c41a@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>;tag=21478430
To: "KLOUP" <sip:nou@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK9f9add2fd9c2340db1b1ed1655a828cf
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:nou@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 2871f11c854f34d155dca81c751ea3a8@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>;tag=25748743
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5be7bf62702b768ed3b898741145066f
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP yolo:::1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 2871f11c854f34d155dca81c751ea3a8@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>;tag=25748743
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5be7bf62702b768ed3b898741145066f
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP yolo:::1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 555bc0ed3a58033aba0246a22ef26ab8@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>;tag=25748743
To: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5ecabb4ef86951cf0db7345155f2ad8e
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:yolo@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:yolo@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.2:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:yolo@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:yolo@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 555bc0ed3a58033aba0246a22ef26ab8@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>;tag=25748743
To: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5ecabb4ef86951cf0db7345155f2ad8e
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 555bc0ed3a58033aba0246a22ef26ab8@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>;tag=25748743
To: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5ecabb4ef86951cf0db7345155f2ad8e
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:yolo@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 555bc0ed3a58033aba0246a22ef26ab8@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>;tag=25748743
To: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd8cb126088af563188f3bdc64e896d42
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:yolo@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:yolo@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:yolo@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:yolo@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:5060 has been removed for the key: sip:yolo@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:yolo@192.168.1.2:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:yolo@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:yolo@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 555bc0ed3a58033aba0246a22ef26ab8@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>;tag=25748743
To: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd8cb126088af563188f3bdc64e896d42
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 555bc0ed3a58033aba0246a22ef26ab8@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>;tag=25748743
To: "KLOUP" <sip:yolo@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKd8cb126088af563188f3bdc64e896d42
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:yolo@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: e5689deb4ad701527682649447d71809@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>;tag=15100647
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK5003a34d77112827dfd7d4875b725771
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 19

SIGNUP 12:::1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: dc6f7cced98862cf214c72fcfd83cda6@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>;tag=15100647
To: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK10ced925904e64a6884e5bf06363921b
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:12@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:12@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.2:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:12@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:12@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dc6f7cced98862cf214c72fcfd83cda6@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>;tag=15100647
To: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK10ced925904e64a6884e5bf06363921b
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: dc6f7cced98862cf214c72fcfd83cda6@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>;tag=15100647
To: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK10ced925904e64a6884e5bf06363921b
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:12@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: dc6f7cced98862cf214c72fcfd83cda6@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>;tag=15100647
To: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3250a060b0be90b9c313e225ccdef646
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:12@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:12@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:12@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:12@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:5060 has been removed for the key: sip:12@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:12@192.168.1.2:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:12@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:12@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dc6f7cced98862cf214c72fcfd83cda6@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>;tag=15100647
To: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3250a060b0be90b9c313e225ccdef646
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: dc6f7cced98862cf214c72fcfd83cda6@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>;tag=15100647
To: "KLOUP" <sip:12@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK3250a060b0be90b9c313e225ccdef646
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:12@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 4493d34fcf894ed0057ea94891505e0f@192.168.1.2
CSeq: 1 MESSAGE
From: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>;tag=25044292
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfa64f03c35d60bdf6597aabd2e8f6c2d
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP sdf:::1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: daefbaf22e57f754917629a59a04c735@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>;tag=25044292
To: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK2066455764c205b848c970e5ce135d40
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sdf@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sdf@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.2:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:sdf@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:sdf@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: daefbaf22e57f754917629a59a04c735@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>;tag=25044292
To: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK2066455764c205b848c970e5ce135d40
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: daefbaf22e57f754917629a59a04c735@192.168.1.2
CSeq: 1 REGISTER
From: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>;tag=25044292
To: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK2066455764c205b848c970e5ce135d40
Max-Forwards: 70
Pwd: 1
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sdf@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: daefbaf22e57f754917629a59a04c735@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>;tag=25044292
To: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK662d16464c061567c26ce30c64f33597
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:sdf@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:sdf@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:sdf@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sdf@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:5060 has been removed for the key: sip:sdf@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:sdf@192.168.1.2:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:sdf@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:sdf@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: daefbaf22e57f754917629a59a04c735@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>;tag=25044292
To: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK662d16464c061567c26ce30c64f33597
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: daefbaf22e57f754917629a59a04c735@192.168.1.2
CSeq: 2 REGISTER
From: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>;tag=25044292
To: "KLOUP" <sip:sdf@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK662d16464c061567c26ce30c64f33597
Max-Forwards: 70
Pwd: 1
Expires: 0
Contact: "KLOUP" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:sdf@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:sdf@192.168.1.2:4000
ExpiresTask, run(), we  removed the contact: sip:192.168.1.2:5060 for the user: sip:sdf@192.168.1.2:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: d8bfca7b017d8232543241b2c8136177@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK3e79d79328684bf00957b46741cfbe53
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP Takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: d8bfca7b017d8232543241b2c8136177@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK3e79d79328684bf00957b46741cfbe53
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP Takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: df0476beea88436ffc1068b83b92cf19@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK474cf369d893cae58eb045f66562b360
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: df0476beea88436ffc1068b83b92cf19@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK474cf369d893cae58eb045f66562b360
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: df0476beea88436ffc1068b83b92cf19@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK474cf369d893cae58eb045f66562b360
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: df0476beea88436ffc1068b83b92cf19@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKb39cb505c32127af6ec177fe06fac3da
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:takeo@147.102.232.27:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: df0476beea88436ffc1068b83b92cf19@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKb39cb505c32127af6ec177fe06fac3da
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: df0476beea88436ffc1068b83b92cf19@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKb39cb505c32127af6ec177fe06fac3da
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Takeo@147.102.232.27:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 587627f167b27e37c67e159f4ee0b495@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=8199481
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKee6e40f2fa17b5f8e9845fbea6254cd7
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP Takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 587627f167b27e37c67e159f4ee0b495@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=8199481
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKee6e40f2fa17b5f8e9845fbea6254cd7
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP Takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 0a8271011d42f12bd0ee1461867de2c0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK42ec626dd95f65554eb5830d76748ec1
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0a8271011d42f12bd0ee1461867de2c0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK42ec626dd95f65554eb5830d76748ec1
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 0a8271011d42f12bd0ee1461867de2c0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK42ec626dd95f65554eb5830d76748ec1
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Takeo@147.102.232.27:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 45d8f38fbb8b9afe1c185b1cae8b4b5d@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK119ed106bbd4f18d357fcf08e5408f5d
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP Takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 45d8f38fbb8b9afe1c185b1cae8b4b5d@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK119ed106bbd4f18d357fcf08e5408f5d
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP Takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: e0b433259fb25148eb3cd70d1aa9c705@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa4673254cd36338162c9b66ba0561209
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e0b433259fb25148eb3cd70d1aa9c705@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa4673254cd36338162c9b66ba0561209
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: e0b433259fb25148eb3cd70d1aa9c705@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa4673254cd36338162c9b66ba0561209
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Takeo@147.102.232.27:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: b5271147af01c090bd6cf61196475b64@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=8199481
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK532db8e77ec387e44b0726e21dd20d29
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP T:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: b5271147af01c090bd6cf61196475b64@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=8199481
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK532db8e77ec387e44b0726e21dd20d29
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP T:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: d08b0fbad171e246e82c05c8e9563508@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK0f57fec4913f545b98c859178a0ab287
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:t@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:t@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:t@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:t@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d08b0fbad171e246e82c05c8e9563508@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK0f57fec4913f545b98c859178a0ab287
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: d08b0fbad171e246e82c05c8e9563508@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK0f57fec4913f545b98c859178a0ab287
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:T@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: d08b0fbad171e246e82c05c8e9563508@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK3e1b192f30c189a5c92da140974359f4
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:t@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:t@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:t@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:t@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:t@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:t@147.102.232.27:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:t@147.102.232.27:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:t@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d08b0fbad171e246e82c05c8e9563508@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK3e1b192f30c189a5c92da140974359f4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: d08b0fbad171e246e82c05c8e9563508@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK3e1b192f30c189a5c92da140974359f4
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:T@147.102.232.27:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 0524cd6ce23145c369412b6dab69112a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK7727f22e0545e1fdc9611cfe03a7db24
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP T:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 51e490db095115e8517681dfc6f55518@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:T@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK41527549074bcda0bad276c36393e19b
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP T:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 21fb9f3ad46491a48bb35a9a8e2105b9@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK4e39f2d14bdedf392e206fa6c184f7d6
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ab930d5a065d2ddec27d4a9cd0e46ec0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK718c408cd507c42fa94b3e18d096ac18
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ab930d5a065d2ddec27d4a9cd0e46ec0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK718c408cd507c42fa94b3e18d096ac18
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ab930d5a065d2ddec27d4a9cd0e46ec0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK718c408cd507c42fa94b3e18d096ac18
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ab930d5a065d2ddec27d4a9cd0e46ec0@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK7f46fa8ccfbf6e5f11f61d7d854ce66c
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:takeo@147.102.232.27:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ab930d5a065d2ddec27d4a9cd0e46ec0@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK7f46fa8ccfbf6e5f11f61d7d854ce66c
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ab930d5a065d2ddec27d4a9cd0e46ec0@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK7f46fa8ccfbf6e5f11f61d7d854ce66c
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 51fe563c51e8a7e30492fda07a693f93@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd579987ad0ac86d3340c674130164c58
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51fe563c51e8a7e30492fda07a693f93@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd579987ad0ac86d3340c674130164c58
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 51fe563c51e8a7e30492fda07a693f93@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd579987ad0ac86d3340c674130164c58
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 51fe563c51e8a7e30492fda07a693f93@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd69840aca8fea44434107ec0a3b8def4
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:takeo@147.102.232.27:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 51fe563c51e8a7e30492fda07a693f93@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd69840aca8fea44434107ec0a3b8def4
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 51fe563c51e8a7e30492fda07a693f93@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd69840aca8fea44434107ec0a3b8def4
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 3f710ddbc153e067d60b82cb0f991c4d@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd2e5d022edb9e1054b18cb3c87eba34b
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f710ddbc153e067d60b82cb0f991c4d@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd2e5d022edb9e1054b18cb3c87eba34b
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 3f710ddbc153e067d60b82cb0f991c4d@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd2e5d022edb9e1054b18cb3c87eba34b
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: c25963dc1fafc94f78b558e272eee9cb@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:55458;branch=z9hG4bKc3bf9eade265c659f3270f2c9eccccf2
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:55458;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:147.102.232.27:55458 ?
Contact in the list:sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:55458 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:55458;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c25963dc1fafc94f78b558e272eee9cb@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:55458;branch=z9hG4bKc3bf9eade265c659f3270f2c9eccccf2
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:55458;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: c25963dc1fafc94f78b558e272eee9cb@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:55458;branch=z9hG4bKc3bf9eade265c659f3270f2c9eccccf2
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:55458;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 3f710ddbc153e067d60b82cb0f991c4d@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKb85ba7b9789664d223bf1abf9d1e6d01
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:55458;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:55458;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3f710ddbc153e067d60b82cb0f991c4d@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKb85ba7b9789664d223bf1abf9d1e6d01
Max-Forwards: 70
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:55458;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 3f710ddbc153e067d60b82cb0f991c4d@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKb85ba7b9789664d223bf1abf9d1e6d01
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: c25963dc1fafc94f78b558e272eee9cb@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:55458;branch=z9hG4bKa41d5f6dc1986ea34e681a991e82a519
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:55458;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:55458 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:takeo@147.102.232.27:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: c25963dc1fafc94f78b558e272eee9cb@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:55458;branch=z9hG4bKa41d5f6dc1986ea34e681a991e82a519
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: c25963dc1fafc94f78b558e272eee9cb@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:55458;branch=z9hG4bKa41d5f6dc1986ea34e681a991e82a519
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:55458;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 4f8859d362c68c395d79022c62674252@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK7d44c49a12ed36564dd832bd8db4f4dd
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4f8859d362c68c395d79022c62674252@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK7d44c49a12ed36564dd832bd8db4f4dd
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 4f8859d362c68c395d79022c62674252@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK7d44c49a12ed36564dd832bd8db4f4dd
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 7df4a5d23f46eb5b7762fa26ef89e1b3@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:50189;branch=z9hG4bK6a7a3493891d206782152ebf2eff4a78
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:147.102.232.27:50189 ?
Contact in the list:sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:50189 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7df4a5d23f46eb5b7762fa26ef89e1b3@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:50189;branch=z9hG4bK6a7a3493891d206782152ebf2eff4a78
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:50189;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 7df4a5d23f46eb5b7762fa26ef89e1b3@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:50189;branch=z9hG4bK6a7a3493891d206782152ebf2eff4a78
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: a2f5abb41a3676635064e5ba4ab9346a@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:26004;branch=z9hG4bKdd1db65d48e37830d7f902e60aa0ab51
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:147.102.232.27:26004 ?
Contact in the list:sip:147.102.232.27:5060
Contact in the list:sip:147.102.232.27:50189
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:26004 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>;expires=3600
  contact 3 : Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a2f5abb41a3676635064e5ba4ab9346a@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:26004;branch=z9hG4bKdd1db65d48e37830d7f902e60aa0ab51
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:50189;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: a2f5abb41a3676635064e5ba4ab9346a@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:26004;branch=z9hG4bKdd1db65d48e37830d7f902e60aa0ab51
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 4f8859d362c68c395d79022c62674252@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKbb257c860c2c3b30cb9de142d34bc114
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4f8859d362c68c395d79022c62674252@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKbb257c860c2c3b30cb9de142d34bc114
Max-Forwards: 70
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 4f8859d362c68c395d79022c62674252@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKbb257c860c2c3b30cb9de142d34bc114
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 7df4a5d23f46eb5b7762fa26ef89e1b3@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:50189;branch=z9hG4bK79855220bf18f171788810657bc98daa
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:50189 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7df4a5d23f46eb5b7762fa26ef89e1b3@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:50189;branch=z9hG4bK79855220bf18f171788810657bc98daa
Max-Forwards: 70
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 7df4a5d23f46eb5b7762fa26ef89e1b3@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=3465785
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:50189;branch=z9hG4bK79855220bf18f171788810657bc98daa
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:50189;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: a2f5abb41a3676635064e5ba4ab9346a@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:26004;branch=z9hG4bK0852d67f5071500483ce6f65fe43f99b
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:26004 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:takeo@147.102.232.27:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: a2f5abb41a3676635064e5ba4ab9346a@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:26004;branch=z9hG4bK0852d67f5071500483ce6f65fe43f99b
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: a2f5abb41a3676635064e5ba4ab9346a@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:26004;branch=z9hG4bK0852d67f5071500483ce6f65fe43f99b
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:26004;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK800919e75935207105fb788772b12929
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK800919e75935207105fb788772b12929
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK800919e75935207105fb788772b12929
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa303fe9bcbac4f3ca97758e2af374062
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:takeo@147.102.232.27:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa303fe9bcbac4f3ca97758e2af374062
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa303fe9bcbac4f3ca97758e2af374062
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa303fe9bcbac4f3ca97758e2af374062
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), we don't have any record for this REGISTER.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa303fe9bcbac4f3ca97758e2af374062
Max-Forwards: 70
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: ec10d2d2ad76cb5f1d68bb7951bc51cc@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa303fe9bcbac4f3ca97758e2af374062
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:0.0.0.0:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:0.0.0.0:5060 ?
Contact in the list:sip:0.0.0.0:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:0.0.0.0:5060 has been updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:0.0.0.0:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:0.0.0.0:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:0.0.0.0:5060 ?
Contact in the list:sip:0.0.0.0:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:0.0.0.0:5060 has been updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:0.0.0.0:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:0.0.0.0:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:0.0.0.0:5060 ?
Contact in the list:sip:0.0.0.0:5060
Contact already in the list
DEBUG, Registration, updateContactHeader(): The contact: sip:0.0.0.0:5060 has been updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:0.0.0.0:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:0.0.0.0:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: bd45d0994db878f2e29d4b4c57fe36e0@0.0.0.0
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 0.0.0.0:5060;branch=z9hG4bK1d56bc346dfa683e07aa08559fa81dfc;received=147.102.232.27;rport=5060
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: fe515f792a11580227137597307ed6c0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKfa46bcdc4d063cac54a9b3e865bdede2
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:147.102.232.27:5060 ?
Contact in the list:sip:0.0.0.0:5060
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fe515f792a11580227137597307ed6c0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKfa46bcdc4d063cac54a9b3e865bdede2
Max-Forwards: 70
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: fe515f792a11580227137597307ed6c0@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKfa46bcdc4d063cac54a9b3e865bdede2
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: e947878f78c950f675c872787c15668e@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:25412;branch=z9hG4bK5290af53663a3ffd13471232b7c3e088
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:25412;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:147.102.232.27:25412 ?
Contact in the list:sip:0.0.0.0:5060
Contact in the list:sip:147.102.232.27:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:25412 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
  contact 3 : Contact: "KLOUP" <sip:147.102.232.27:25412;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e947878f78c950f675c872787c15668e@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:25412;branch=z9hG4bK5290af53663a3ffd13471232b7c3e088
Max-Forwards: 70
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:25412;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: e947878f78c950f675c872787c15668e@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:25412;branch=z9hG4bK5290af53663a3ffd13471232b7c3e088
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:25412;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 7f0dcde3aa1dbe2805917e7cd8db74c4@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:42345;branch=z9hG4bK185a73181fd7c1d3c804de81a76e9f1e
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
Contact to add:sip:147.102.232.27:42345 ?
Contact in the list:sip:0.0.0.0:5060
Contact in the list:sip:147.102.232.27:5060
Contact in the list:sip:147.102.232.27:25412
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:42345 , expiresTime:3600
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
  contact 3 : Contact: "KLOUP" <sip:147.102.232.27:25412;transport=udp>;expires=3600
  contact 4 : Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7f0dcde3aa1dbe2805917e7cd8db74c4@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:42345;branch=z9hG4bK185a73181fd7c1d3c804de81a76e9f1e
Max-Forwards: 70
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:25412;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 7f0dcde3aa1dbe2805917e7cd8db74c4@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:42345;branch=z9hG4bK185a73181fd7c1d3c804de81a76e9f1e
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: fe515f792a11580227137597307ed6c0@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK8a9338cdef0b5a8c47c62625e8342bca
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:25412;transport=udp>;expires=3600
  contact 3 : Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:25412;transport=udp>;expires=3600
  contact 3 : Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fe515f792a11580227137597307ed6c0@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK8a9338cdef0b5a8c47c62625e8342bca
Max-Forwards: 70
Expires: 0
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:25412;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: fe515f792a11580227137597307ed6c0@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK8a9338cdef0b5a8c47c62625e8342bca
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: e947878f78c950f675c872787c15668e@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:25412;branch=z9hG4bKbc54e4d0d0546ae1090fcb1dbf466ae0
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:25412;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:25412 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
  contact 2 : Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e947878f78c950f675c872787c15668e@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:25412;branch=z9hG4bKbc54e4d0d0546ae1090fcb1dbf466ae0
Max-Forwards: 70
Expires: 0
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600,"KLOUP" <sip:147.102.232.27:42345;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: e947878f78c950f675c872787c15668e@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:25412;branch=z9hG4bKbc54e4d0d0546ae1090fcb1dbf466ae0
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:25412;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 7f0dcde3aa1dbe2805917e7cd8db74c4@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:42345;branch=z9hG4bK1575f30b3d9333d5e8db9fcae3f19b71
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:42345 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7f0dcde3aa1dbe2805917e7cd8db74c4@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:42345;branch=z9hG4bK1575f30b3d9333d5e8db9fcae3f19b71
Max-Forwards: 70
Expires: 0
Contact: "KLOUP" <sip:0.0.0.0:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 7f0dcde3aa1dbe2805917e7cd8db74c4@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=26353184
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:42345;branch=z9hG4bK1575f30b3d9333d5e8db9fcae3f19b71
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:42345;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 0ca61116a59f81b8122d5a27073943b1@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK586c5cce00ad64a76a974489b38517ac
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 0ca61116a59f81b8122d5a27073943b1@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK586c5cce00ad64a76a974489b38517ac
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 3d8804221065cfe9d673749018c0e427@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK52f04e8a804d2b90d0ff7d3d7f769e19
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d8804221065cfe9d673749018c0e427@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK52f04e8a804d2b90d0ff7d3d7f769e19
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 3d8804221065cfe9d673749018c0e427@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK52f04e8a804d2b90d0ff7d3d7f769e19
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 3d8804221065cfe9d673749018c0e427@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKe7cff90e9def459b5ac87e6d56fc464c
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@147.102.232.27:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@147.102.232.27:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@147.102.232.27:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:147.102.232.27:5060 has been removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@147.102.232.27:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:takeo@147.102.232.27:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:takeo@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 3d8804221065cfe9d673749018c0e427@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKe7cff90e9def459b5ac87e6d56fc464c
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 3d8804221065cfe9d673749018c0e427@147.102.232.27
CSeq: 2 REGISTER
From: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:takeo@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKe7cff90e9def459b5ac87e6d56fc464c
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:takeo@147.102.232.27:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 03f58a563eae75224d573bb609887c8a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK07a9666c840e8afe258d2d063fc27bae
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 36

SIGNUP New:Nick:terlemes:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 03f58a563eae75224d573bb609887c8a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK07a9666c840e8afe258d2d063fc27bae
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 36

SIGNUP New:Nick:terlemes:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 03f58a563eae75224d573bb609887c8a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK07a9666c840e8afe258d2d063fc27bae
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 36

SIGNUP New:Nick:terlemes:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 03f58a563eae75224d573bb609887c8a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK07a9666c840e8afe258d2d063fc27bae
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 36

SIGNUP New:Nick:terlemes:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 03f58a563eae75224d573bb609887c8a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK07a9666c840e8afe258d2d063fc27bae
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 36

SIGNUP New:Nick:terlemes:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 03f58a563eae75224d573bb609887c8a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK07a9666c840e8afe258d2d063fc27bae
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 36

SIGNUP New:Nick:terlemes:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 03f58a563eae75224d573bb609887c8a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK07a9666c840e8afe258d2d063fc27bae
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 36

SIGNUP New:Nick:terlemes:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 03f58a563eae75224d573bb609887c8a@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK07a9666c840e8afe258d2d063fc27bae
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 36

SIGNUP New:Nick:terlemes:123:Premium
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: e9d6ea79aad4c399cb205e24f5692db6@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKbb8c5ddd31bee632bc3e67e5e46f8a9c
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:new@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e9d6ea79aad4c399cb205e24f5692db6@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKbb8c5ddd31bee632bc3e67e5e46f8a9c
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: e9d6ea79aad4c399cb205e24f5692db6@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKbb8c5ddd31bee632bc3e67e5e46f8a9c
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@147.102.232.27:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: f4877fb423a4862a6856f95bd6b4780e@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKe540664a27aa084842671d21fb727967
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 10

BLOCK Tsou
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: b13e8a907dea6cf22a2bdb070fa7b74d@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK212438ed904f3185644d1949d9a73e91
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: b13e8a907dea6cf22a2bdb070fa7b74d@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK212438ed904f3185644d1949d9a73e91
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 55de31c9cf717f9c5d3744a0947bd3a9@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd80575e2cbc2b92c7873077caf0fe6f3
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@147.102.232.27:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@147.102.232.27:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:147.102.232.27:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@147.102.232.27:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:new@147.102.232.27:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 55de31c9cf717f9c5d3744a0947bd3a9@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd80575e2cbc2b92c7873077caf0fe6f3
Max-Forwards: 70
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:147.102.232.27:5060;transport=udp SIP/2.0
Call-ID: 55de31c9cf717f9c5d3744a0947bd3a9@147.102.232.27
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKd80575e2cbc2b92c7873077caf0fe6f3
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:147.102.232.27:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@147.102.232.27:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: f7d7d5ad9a0f954f5256c9ec4e221e3b@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKa6b0599e6aeb4aa3ad2690076d55753e
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

BLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 00fabe2687acbfca445752b3b14940fb@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK08f1c43c8e5f2747ca35e16afc79da88
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 35421d48244e49057f51b7c78a29f02c@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKdf4b1b917ed3e9f985a57b80e508dfab
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: ef19b2ad221520035599d62082add1b2@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK21ddae2210d9d41b427288a4d875d6b7
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: f4a20b56a2eb168b065662cc56a37894@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKc9f86f110b63e8a3f34912ab005ec110
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 819e3abcc77ebe126929cd54e29c0f1d@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK082b2cb7053b49074d3e5aec71a842f6
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 854f879d8bf5db6ea8bfea3317242f06@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKbaa1c1b162d8b750951171f1c230f183
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 854f879d8bf5db6ea8bfea3317242f06@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKbaa1c1b162d8b750951171f1c230f183
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: e7fd01024af0696eb60f50f33ff65f51@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK98074f7b47a810ab991b97a40d3e30b6
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 5196e799a202d0d4bc4bc9976712f912@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=8199481
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bKab0c85e21c9a7423f22428f4a830f371
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 07fafb2399c6ac71d81eefb16837bafc@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK6e21ad37ffdcd6ae93c8ea58bc9f1e73
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP New:::1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: 07fafb2399c6ac71d81eefb16837bafc@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK6e21ad37ffdcd6ae93c8ea58bc9f1e73
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP New:::1:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:147.102.232.27
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:147.102.232.27
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: c059f6679f48668da2ec115fbb7e2192@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK1434e004f793338cd948c942ee4a85d1
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:147.102.232.27:4000@147.102.232.27:4000 SIP/2.0
Call-ID: c059f6679f48668da2ec115fbb7e2192@147.102.232.27
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@147.102.232.27:4000;transport=udp>;tag=12674827
To: <sip:147.102.232.27:4000@147.102.232.27:4000>
Via: SIP/2.0/UDP 147.102.232.27:5060;branch=z9hG4bK1434e004f793338cd948c942ee4a85d1
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 9f8edfef73aa86d22ed608c85e9b744e@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK876fd02417eac17cd358466ccf6ab5d7
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 9f8edfef73aa86d22ed608c85e9b744e@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK876fd02417eac17cd358466ccf6ab5d7
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 122e717b018b75312135c3db6fe9fb58@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe18cd618beae492506afd4020b1ee731
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 28

SIGNUP Nick:::Terkenes:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 122e717b018b75312135c3db6fe9fb58@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe18cd618beae492506afd4020b1ee731
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 28

SIGNUP Nick:::Terkenes:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 29d9afeb0d718517f8680c1a5f7612fa@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5992699ae785ddb729feeb54deae4e4a
Max-Forwards: 70
Pwd: Terkenes
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:nick@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:nick@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:nick@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:nick@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 29d9afeb0d718517f8680c1a5f7612fa@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5992699ae785ddb729feeb54deae4e4a
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 29d9afeb0d718517f8680c1a5f7612fa@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5992699ae785ddb729feeb54deae4e4a
Max-Forwards: 70
Pwd: Terkenes
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Nick@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: e327efb47c954f81530479004b69785a@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKb2402cee64b3432785f3b2653f3f880c
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

BLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 4e7373a666af06b1c73b133bac623483@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKb27327c01a5a4ed56b23aec8434562d6
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 697c9ba8caa840167421be80a73ec5df@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK9d0650667fe399c96cf6afcc10d4eda3
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

FORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: fe83b322c09254e0e8704338983c85b5@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK53d737c5652ca44315a9285a884c8c51
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

UNFORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: a682477195854a1450db6e188a6b7998@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bKda7b251615f0e07ba2ce295d96042800
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 24

SIGNUP Takeo:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 7f42dcbf7487d5b4f9cc94386add9cfe@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK098083d8dea307edec1088514ac21e26
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:43976 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:takeo@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:nick@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7f42dcbf7487d5b4f9cc94386add9cfe@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK098083d8dea307edec1088514ac21e26
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 7f42dcbf7487d5b4f9cc94386add9cfe@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK098083d8dea307edec1088514ac21e26
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Takeo@192.168.1.4:4000

****************************************************
Request INVITE received:
INVITE sip:Nick@192.168.1.4:4000 SIP/2.0
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK0b990f936dba3a2d4617425c4f446358
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>
Content-Type: application/sdp
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:nick@192.168.1.4:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@7453c894
dialog =  gov.nist.javax.sip.stack.SIPDialog@164f15d
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:4000;branch=z9hG4bK2fcb9b66e03cbdbea96ac426503ece23,SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK0b990f936dba3a2d4617425c4f446358
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.4:4000>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.4 port:5060 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.4:5060 SIP/2.0
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:4000;branch=z9hG4bK3b8d8d779d1953da38ac03e16b7b75e7,SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK0b990f936dba3a2d4617425c4f446358
Max-Forwards: 69
Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.4:4000>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:4000;branch=z9hG4bK3b8d8d779d1953da38ac03e16b7b75e7,SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK0b990f936dba3a2d4617425c4f446358
Max-Forwards: 69
Record-Route: <sip:192.168.1.4:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@23da6291
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f23426
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>;tag=454929
Via: SIP/2.0/UDP 192.168.1.4:4000;branch=z9hG4bK3b8d8d779d1953da38ac03e16b7b75e7,SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK0b990f936dba3a2d4617425c4f446358
Max-Forwards: 69
Record-Route: <sip:192.168.1.4:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@23da6291
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f23426
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>;tag=454929
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK0b990f936dba3a2d4617425c4f446358
Max-Forwards: 69
Record-Route: <sip:192.168.1.4:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>;tag=454929
Via: SIP/2.0/UDP 192.168.1.4:4000;branch=z9hG4bK3b8d8d779d1953da38ac03e16b7b75e7,SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK0b990f936dba3a2d4617425c4f446358
Max-Forwards: 69
Record-Route: <sip:192.168.1.4:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@23da6291
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f23426
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:454929
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 INVITE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>;tag=454929
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bK0b990f936dba3a2d4617425c4f446358
Max-Forwards: 69
Record-Route: <sip:192.168.1.4:4000>
Content-Type: application/sdp
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 157

v=0
o=George 0 0 IN IP4 192.168.1.4
s=-
c=IN IP4 192.168.1.4
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31
a=recvonly


****************************************************
Request ACK received:
ACK sip:192.168.1.4:4000;transport=udp SIP/2.0
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 ACK
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>;tag=454929
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=39322e3136382e312e343a343339373
Max-Forwards: 70
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@6b6bd7c8
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164f15d
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:nick@192.168.1.4:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@6b6bd7c8
dialog =  gov.nist.javax.sip.stack.SIPDialog@164f15d
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@e9ba0a
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@7453c894
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@164f15d
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@23da6291, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.4:5060 SIP/2.0
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 ACK
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:Nick@192.168.1.4:4000>;tag=454929
Via: SIP/2.0/UDP 192.168.1.4:4000;branch=z9hG4bKbfbc66a14639a8caeb76005af0c2fa93,SIP/2.0/UDP 192.168.1.4:43976;branch=39322e3136382e312e343a343339373
Max-Forwards: 69
Route: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Record-Route: <sip:192.168.1.4:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.4:4000;transport=udp SIP/2.0
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 BYE
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
From: <sip:Nick@192.168.1.4:4000>;tag=454929
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK6e715cfb7765d4ee4fd040fc76cbb998
Route: "KLOUP" <sip:192.168.1.4:43976;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@139a9ecc
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@f23426
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.4:4000;transport=udp SIP/2.0
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 BYE
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>
From: <sip:Nick@192.168.1.4:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.4:4000,SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK6e715cfb7765d4ee4fd040fc76cbb998
Route: "KLOUP" <sip:192.168.1.4:43976;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.4:43976/udp

***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 BYE
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
From: <sip:Nick@192.168.1.4:4000>;tag=454929
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.4:4000;branch=z9hG4bKf1f15ddd6e740bb0c7c6051d751e034a,SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK6e715cfb7765d4ee4fd040fc76cbb998
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@551208d1
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@164f15d
ResponseForwarding, forwardResponse() (STEP 9), the  response is statelessly forwarded:
SIP/2.0 200 OK
Call-ID: c064558c5ab2d1267db7c1a402d4ac2b@192.168.1.4
CSeq: 1 BYE
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
From: <sip:Nick@192.168.1.4:4000>;tag=454929
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK6e715cfb7765d4ee4fd040fc76cbb998
Content-Length: 0



****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: b0f473844d3e5b38a5e4df26bc417b40@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bKc7c4471f98de339f97badd28c4e648be
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

PAY 0.1
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 29d9afeb0d718517f8680c1a5f7612fa@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5e84f89d26f12db021f94c5f4df87c68
Max-Forwards: 70
Pwd: Terkenes
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:nick@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:nick@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:nick@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:nick@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:nick@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:nick@192.168.1.4:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>;expires=3600

************************************************

RegistrationsTable, removeContact(), the registration: sip:nick@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:nick@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>;expires=3600

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>;expires=3600

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 29d9afeb0d718517f8680c1a5f7612fa@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5e84f89d26f12db021f94c5f4df87c68
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 29d9afeb0d718517f8680c1a5f7612fa@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:Nick@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5e84f89d26f12db021f94c5f4df87c68
Max-Forwards: 70
Pwd: Terkenes
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Nick@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 27bd9c5232047517f31f9610128ec485@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bKd3eb978de758615947e76a0097471902
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 8

PAY 0.12
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 7f42dcbf7487d5b4f9cc94386add9cfe@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bKeb360a0cbb4e504ab889ddf6be7b5a4e
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:takeo@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:takeo@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:takeo@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:takeo@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:43976 has been removed for the key: sip:takeo@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:takeo@192.168.1.4:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:takeo@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:takeo@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 7f42dcbf7487d5b4f9cc94386add9cfe@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bKeb360a0cbb4e504ab889ddf6be7b5a4e
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 7f42dcbf7487d5b4f9cc94386add9cfe@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>;tag=22505839
To: "KLOUP" <sip:Takeo@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:43976;branch=z9hG4bKeb360a0cbb4e504ab889ddf6be7b5a4e
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:43976;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Takeo@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 3e7bb89fcd3a405adea09edc22910b37@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK61ed27fecb58df26cc52f089c262bd45
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 240720cc557ec0e7b3faddce14d27164@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7f1e600c2b91051d4b76b4c6e3bf3429
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.4:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 240720cc557ec0e7b3faddce14d27164@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7f1e600c2b91051d4b76b4c6e3bf3429
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 240720cc557ec0e7b3faddce14d27164@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7f1e600c2b91051d4b76b4c6e3bf3429
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: d5f4e6fa6abd93d2cf63467d8379b839@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK8f494c48280a488d43a5e8935649ce2c
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

PAY 5.5
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 240720cc557ec0e7b3faddce14d27164@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK12e06a471ff097d3a76aa343e06ce2d7
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:new@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:new@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:new@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 240720cc557ec0e7b3faddce14d27164@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK12e06a471ff097d3a76aa343e06ce2d7
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 240720cc557ec0e7b3faddce14d27164@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=12674827
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK12e06a471ff097d3a76aa343e06ce2d7
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: ae7c3beecece852033617f58298b300a@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4f720d80f4853c4b5de02c979183fa42
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.4:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ae7c3beecece852033617f58298b300a@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4f720d80f4853c4b5de02c979183fa42
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: ae7c3beecece852033617f58298b300a@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4f720d80f4853c4b5de02c979183fa42
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: ae7c3beecece852033617f58298b300a@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK96970cc29abd2305dd098638ed216932
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:new@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:new@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:new@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: ae7c3beecece852033617f58298b300a@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK96970cc29abd2305dd098638ed216932
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: ae7c3beecece852033617f58298b300a@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=16333464
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK96970cc29abd2305dd098638ed216932
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: eb3cd864c1895f571acb5d0d886dd5e7@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd23e3765a4e33981fa78b77f7b892c24
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 26

SIGNUP Alice:::12345:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: eb3cd864c1895f571acb5d0d886dd5e7@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd23e3765a4e33981fa78b77f7b892c24
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 26

SIGNUP Alice:::12345:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 6255319cba812ef302f8c43ce1668aa0@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK58c7525ad7cba3cde4f3f5b001557f47
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 26

SIGNUP Alice:::12345:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 668408f02918bb0e09dd5550ef389d10@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5bed9ac6b030713db26a44ed946a130c
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 25

SIGNUP Alice:::1234:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 668408f02918bb0e09dd5550ef389d10@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5bed9ac6b030713db26a44ed946a130c
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 25

SIGNUP Alice:::1234:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 1b876ca848b32bd29358e7b4b5959e18@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd64d50bfdb02969b23ea0d2a54f8bdba
Max-Forwards: 70
Pwd: 1234
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:alice@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:alice@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:alice@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:alice@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1b876ca848b32bd29358e7b4b5959e18@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd64d50bfdb02969b23ea0d2a54f8bdba
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 1b876ca848b32bd29358e7b4b5959e18@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd64d50bfdb02969b23ea0d2a54f8bdba
Max-Forwards: 70
Pwd: 1234
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Alice@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 180906e18e1fcba3dabea6159ccc01e5@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Alice@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe856d1ce9b37dd84506f0dac8192cb94
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

PAY 0.5
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: ed6ec7946ff2ffe6896260c3a0090ab5@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK9e4bd37bfcaba95ce8a15021f0f1e176
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: ed6ec7946ff2ffe6896260c3a0090ab5@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK9e4bd37bfcaba95ce8a15021f0f1e176
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: e3ae1717b712bd598b936061c17c233c@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7c01903b651d9d859659f3009d967ef7
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e3ae1717b712bd598b936061c17c233c@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7c01903b651d9d859659f3009d967ef7
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: e3ae1717b712bd598b936061c17c233c@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7c01903b651d9d859659f3009d967ef7
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 492853907b82265bd918caa6c1a09036@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4c936b1d1d02fdba0019f7c30edbed60
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Message, processMessage(), internal error, exception raised:

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 492853907b82265bd918caa6c1a09036@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4c936b1d1d02fdba0019f7c30edbed60
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Message, processMessage(), internal error, exception raised:

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 492853907b82265bd918caa6c1a09036@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4c936b1d1d02fdba0019f7c30edbed60
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Message, processMessage(), internal error, exception raised:

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 492853907b82265bd918caa6c1a09036@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4c936b1d1d02fdba0019f7c30edbed60
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Message, processMessage(), internal error, exception raised:

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 492853907b82265bd918caa6c1a09036@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4c936b1d1d02fdba0019f7c30edbed60
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Message, processMessage(), internal error, exception raised:

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 492853907b82265bd918caa6c1a09036@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4c936b1d1d02fdba0019f7c30edbed60
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Message, processMessage(), internal error, exception raised:

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 492853907b82265bd918caa6c1a09036@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4c936b1d1d02fdba0019f7c30edbed60
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Message, processMessage(), internal error, exception raised:

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 492853907b82265bd918caa6c1a09036@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4c936b1d1d02fdba0019f7c30edbed60
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Message, processMessage(), internal error, exception raised:
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 1ed1f1f3b0c9e999f87a29a41a9148e9@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK15c08e117824e3796cb137b5095ec647
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 1ed1f1f3b0c9e999f87a29a41a9148e9@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK15c08e117824e3796cb137b5095ec647
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: c09e597a0bd6b752463ac16d61f9649a@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK58539fe843ce9b7982948c4e27ada6c4
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: c09e597a0bd6b752463ac16d61f9649a@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK58539fe843ce9b7982948c4e27ada6c4
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 174baf920df7c6bc60d7c306f7f303f7@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4b1923200396463c24482e17f63bdcbf
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 174baf920df7c6bc60d7c306f7f303f7@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4b1923200396463c24482e17f63bdcbf
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 174baf920df7c6bc60d7c306f7f303f7@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4b1923200396463c24482e17f63bdcbf
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 884328dcdba6de05c9b2f2c863d4f884@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK91c932bf8a411da8836487e58a34d764
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 174baf920df7c6bc60d7c306f7f303f7@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd2b667d7033a90af3f8ce44a6dd69c7b
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:new@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:new@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:new@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 174baf920df7c6bc60d7c306f7f303f7@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd2b667d7033a90af3f8ce44a6dd69c7b
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 174baf920df7c6bc60d7c306f7f303f7@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKd2b667d7033a90af3f8ce44a6dd69c7b
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 557f71a84f3c40aee03e018eaa30e2c5@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe1e03bc1c0c2f6da8fb8da6e3e7eb39e
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP Tak:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 557f71a84f3c40aee03e018eaa30e2c5@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe1e03bc1c0c2f6da8fb8da6e3e7eb39e
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP Tak:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: d53261db22a1fe763acc4072caa03919@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKf4ab37b3467e891590794a7705a39b17
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tak@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tak@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:tak@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tak@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d53261db22a1fe763acc4072caa03919@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKf4ab37b3467e891590794a7705a39b17
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: d53261db22a1fe763acc4072caa03919@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKf4ab37b3467e891590794a7705a39b17
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Tak@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: ef5bc7882a2e0a63b12d209c8984aa32@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKf2e3e20e84b693a69c295ae9f635af2f
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: d53261db22a1fe763acc4072caa03919@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK9815b7f839fe9c4ca8eded50d458930d
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:tak@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:tak@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:tak@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:tak@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:tak@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:tak@192.168.1.4:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:tak@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:tak@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d53261db22a1fe763acc4072caa03919@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK9815b7f839fe9c4ca8eded50d458930d
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: d53261db22a1fe763acc4072caa03919@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:Tak@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK9815b7f839fe9c4ca8eded50d458930d
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:Tak@192.168.1.4:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 5f4b0591cf7d19e540dd458c5b848dfa@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK34c8e6cb1bfdb58198095e87dd9fc34b
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP No:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 5f4b0591cf7d19e540dd458c5b848dfa@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK34c8e6cb1bfdb58198095e87dd9fc34b
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP No:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 09645c5f71456d020f4c9e331ecc84f5@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKff443ad57d73bf4f9e2f1591e5577777
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:no@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:no@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:no@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 09645c5f71456d020f4c9e331ecc84f5@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKff443ad57d73bf4f9e2f1591e5577777
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 09645c5f71456d020f4c9e331ecc84f5@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKff443ad57d73bf4f9e2f1591e5577777
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:No@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: b84a0459ae5ff2848e654b447911729e@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKce20cb21206f9f7675f5ea2c86005e84
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 09645c5f71456d020f4c9e331ecc84f5@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKf4bac935ebe68bbc4c5d513f6ed8e943
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:no@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:no@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:no@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:no@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:no@192.168.1.4:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:no@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 09645c5f71456d020f4c9e331ecc84f5@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKf4bac935ebe68bbc4c5d513f6ed8e943
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 09645c5f71456d020f4c9e331ecc84f5@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKf4bac935ebe68bbc4c5d513f6ed8e943
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:No@192.168.1.4:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 93ecba29622ee3bd23ee5d610a90cdf5@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe4239d31f9e36c2965cbaa739bec7471
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP No:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 93ecba29622ee3bd23ee5d610a90cdf5@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe4239d31f9e36c2965cbaa739bec7471
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP No:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 128e3d81687bde46dd0832874406839f@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc54f4067d80b427d097aa3d927634f52
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:no@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:no@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:no@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 128e3d81687bde46dd0832874406839f@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc54f4067d80b427d097aa3d927634f52
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 128e3d81687bde46dd0832874406839f@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc54f4067d80b427d097aa3d927634f52
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:No@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: fcea8fdf257726a5b274ffbf05dc3ad4@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4990393c5bef64bf38751ec128fa40b5
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 128e3d81687bde46dd0832874406839f@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK196923da5c3c8b6361707b4b7928e1d7
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:no@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:no@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:no@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:no@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:no@192.168.1.4:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:no@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 128e3d81687bde46dd0832874406839f@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK196923da5c3c8b6361707b4b7928e1d7
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 128e3d81687bde46dd0832874406839f@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=8199481
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK196923da5c3c8b6361707b4b7928e1d7
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:No@192.168.1.4:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: e93547cd21758c516e492ca384512588@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK54c1a5bf3b8998b15166c9f1f2fa8686
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:no@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:no@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.4:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:no@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e93547cd21758c516e492ca384512588@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK54c1a5bf3b8998b15166c9f1f2fa8686
Max-Forwards: 70
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: e93547cd21758c516e492ca384512588@192.168.1.4
CSeq: 1 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK54c1a5bf3b8998b15166c9f1f2fa8686
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:No@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 85cb1b095535d9e5db49ee6998a0036c@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc4c68ab368ff35379b455fd48a50edb6
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: a294432492c8aa5aa7df6ae807b3eed9@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc14327ef0b24651ce1e40f4b16230ccc
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 96e7ca70113826ccbcac48bf721dcdff@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKbc1636d98df28a840d8035da3a7a8e27
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 08e13ca38a6683ea80486ca2c21568fd@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK761a1ed854c649b5464251fafb379ff9
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

PAY 0.5
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 5a3bed11aa18741d430de7c9fe10e37b@192.168.1.4
CSeq: 1 MESSAGE
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK6292e661bd44040b791ff1a3fc536594
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: e93547cd21758c516e492ca384512588@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK19dc26534b45638af52bf2fdcefe2739
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:no@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:no@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:no@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:no@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:no@192.168.1.4:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:no@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:no@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: e93547cd21758c516e492ca384512588@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK19dc26534b45638af52bf2fdcefe2739
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: e93547cd21758c516e492ca384512588@192.168.1.4
CSeq: 2 REGISTER
From: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>;tag=4635860
To: "KLOUP" <sip:No@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK19dc26534b45638af52bf2fdcefe2739
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "KLOUP" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:No@192.168.1.4:4000
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: ed63cc6b6a1467e7d815b74fb7e32c17@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=10832100
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKf0927c7dcb3c24b930af3e26e49ca1f9
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 25a88cf1ac32e2902a20b067f03fe758@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=1436506
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK59cabf0db0b5ae5df1d18fc7cdfc8358
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 09fe37521367f8086ed72ea052cd8426@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKef3f0119149901d1220b4232a5b62a98
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP ok:::michali:a
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 71f3f18c24d8739721210d378e7a0edd@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: "test" <sip:ok@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK8bcf16df993e54b1d06689f8c6108683
Max-Forwards: 70
Pwd: michali
Expires: 3600
Contact: "test" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:ok@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:ok@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:ok@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 71f3f18c24d8739721210d378e7a0edd@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: "test" <sip:ok@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK8bcf16df993e54b1d06689f8c6108683
Max-Forwards: 70
Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 71f3f18c24d8739721210d378e7a0edd@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: "test" <sip:ok@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK8bcf16df993e54b1d06689f8c6108683
Max-Forwards: 70
Pwd: michali
Expires: 3600
Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:ok@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 457f0ca3a7a8767a6748436888eba131@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK59ddefc7d80fec922d6774bcd855732e
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 8

POLICY b
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 862fff6719cfe3dd8bf709b536f62a45@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKfc4a6d75e1c6abf2ff46485fdbf28310
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 12

BLOCK kostas
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 67cc510b80f7e1efe33ebd688b5a42bf@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bK4cb013deebe7a59bdceb20ee53ba8bc8
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 14

FORWARD kostas
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: daea313e5253d9ac945a09fb1fa4aa1d@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=2890524
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bKe0ecdc70ec2c775f3679904dcdf2a842
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 9505c61d442adccc5471ee04bc365855@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=2890524
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bK33a722a84adc034c3a62a2067d9f2bed
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 19

SIGNUP kostas:::2:a
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 4784569ba4c9088d0748b75f3bb51988@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=2890524
To: "test" <sip:kostas@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bK490fafbfd6baea9f0e7d90c90029ff44
Max-Forwards: 70
Pwd: 2
Expires: 3600
Contact: "test" <sip:192.168.1.2:9248;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:9248 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostas@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:9248;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4784569ba4c9088d0748b75f3bb51988@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=2890524
To: "test" <sip:kostas@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bK490fafbfd6baea9f0e7d90c90029ff44
Max-Forwards: 70
Contact: "test" <sip:192.168.1.2:9248;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 4784569ba4c9088d0748b75f3bb51988@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=2890524
To: "test" <sip:kostas@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bK490fafbfd6baea9f0e7d90c90029ff44
Max-Forwards: 70
Pwd: 2
Expires: 3600
Contact: "test" <sip:192.168.1.2:9248;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 42608b855eeb3e84f98ad290da17ad73@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=14759614
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK569f578f285b023887d47b03cdaf640a
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 6dd5b5170ae0ff23a005b93d409ba9bf@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK9df041109c2fc85331c203a76cec8d25
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP spiros:::saf:a
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: f885f1e67e18875ed8eaad224ad4cee9@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: "test" <sip:spiros@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK212d955bd69ad763deacab407c874fe8
Max-Forwards: 70
Pwd: saf
Expires: 3600
Contact: "test" <sip:192.168.1.2:5750;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:spiros@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:spiros@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:5750 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:spiros@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:spiros@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5750;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:9248;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f885f1e67e18875ed8eaad224ad4cee9@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: "test" <sip:spiros@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK212d955bd69ad763deacab407c874fe8
Max-Forwards: 70
Contact: "test" <sip:192.168.1.2:5750;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: f885f1e67e18875ed8eaad224ad4cee9@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: "test" <sip:spiros@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK212d955bd69ad763deacab407c874fe8
Max-Forwards: 70
Pwd: saf
Expires: 3600
Contact: "test" <sip:192.168.1.2:5750;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:spiros@192.168.1.2:4000

****************************************************
Request INVITE received:
INVITE sip:kostas@192.168.1.2:4000 SIP/2.0
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK2b9cdf0307db677b8ab9cc649b5c6038
Max-Forwards: 70
Contact: "test" <sip:192.168.1.2:5750;transport=udp>
Content-Type: application/sdp
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (No routes detected)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@ecc4b23
dialog =  gov.nist.javax.sip.stack.SIPDialog@1178e05
RequestForwarding, forwardRequestStatefully(), the dialog state is null, so we have to forward the request using a new clientTransaction
ProxyRouter: request:
INVITE sip:192.168.1.2:9248 SIP/2.0
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bKe44c67bc7cf6a6ba8d848955c350a1e8,SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK2b9cdf0307db677b8ab9cc649b5c6038
Max-Forwards: 69
Contact: "test" <sip:192.168.1.2:5750;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG, ProxyRouter, getNextHops(),  the hop added: host:192.168.1.2 port:9248 transport:udp
RequestForwarding, forwardRequestStatefully(),, cloned request forwarded statefully:
 INVITE sip:192.168.1.2:9248 SIP/2.0
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK0d8ae67bc9a133c4a592da04a48eed23,SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK2b9cdf0307db677b8ab9cc649b5c6038
Max-Forwards: 69
Contact: "test" <sip:192.168.1.2:5750;transport=udp>
Content-Type: application/sdp
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


***************************************************************
***************************************************************
Response 100 Trying received:
SIP/2.0 100 Trying
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK0d8ae67bc9a133c4a592da04a48eed23,SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK2b9cdf0307db677b8ab9cc649b5c6038
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@61133b1d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1489391
ResponseForwarding, forwardResponse() (STEP 5) don't forward the 100 Trying.

***************************************************************
***************************************************************
Response 180 Ringing received:
SIP/2.0 180 Ringing
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>;tag=32850875
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK0d8ae67bc9a133c4a592da04a48eed23,SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK2b9cdf0307db677b8ab9cc649b5c6038
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0


Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@61133b1d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1489391
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 180 Ringing
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>;tag=32850875
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK2b9cdf0307db677b8ab9cc649b5c6038
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



***************************************************************
***************************************************************
Response 200 OK received:
SIP/2.0 200 OK
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>;tag=32850875
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK0d8ae67bc9a133c4a592da04a48eed23,SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK2b9cdf0307db677b8ab9cc649b5c6038
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "test" <sip:192.168.1.2:9248;transport=udp>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

Processing Response in progress
DEBUG TRANSACTION INFO: here is the  client transaction: gov.nist.javax.sip.stack.SIPClientTransaction@61133b1d
DEBUG TRANSACTION INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1489391
ResponseForwarding, forwardResponse()  (STEP 9), we changed the toTag:32850875
ResponseForwarding, forwardResponse() (STEP 9), the  response is statefully forwarded: 
SIP/2.0 200 OK
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>;tag=32850875
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bK2b9cdf0307db677b8ab9cc649b5c6038
Max-Forwards: 69
Record-Route: <sip:192.168.1.2:4000>
Content-Type: application/sdp
Contact: "test" <sip:192.168.1.2:9248;transport=udp>
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31


****************************************************
Request ACK received:
ACK sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 ACK
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>;tag=32850875
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=3139322e3136382e312e323a3537353
Max-Forwards: 70
Route: "test" <sip:192.168.1.2:9248;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@3f7d4937
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1178e05
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received ACK not targeted for proxy
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.2:4000" : registered
Proxy, processRequest(), the target set is the set of the contacts URI from the  location service
RequestForwarding, forwardRequest() (STEP 1), the request is cloned
RequestForwarding, forwardRequest() (STEP 2), The Request-URI in the copy's start line is replaced with the URI for this target
RequestForwarding, forwardRequest(),  (STEP 3) MaxForwardHeader  decremented by one.
RequestForwarding, forwardRequest(), (STEP 4) record-route header created and added to the  cloned request
RequestForwarding, forwardRequest(), (STEP 5) No Additional headers to add...
RequestForwarding, forwardRequest(), (STEP 6) no Postprocess routing information to do (the route has no lr parameter)...
RequestForwarding, forwardRequest(), (STEP 7) Determine Next-Hop Address, Port, and Transport will be done by the stack...
RequestForwarding, forwardRequest(), (STEP 8) the proxy inserts a Via header field value into the copy before the existing Via header field values
RequestForwarding, forwardRequest(), (STEP 8) Loop detection not implemented
RequestForwarding, forwardRequest(), no Content-Type header, we don't stripe any parameters!!!
serverTransaction =  gov.nist.javax.sip.stack.SIPServerTransaction@3f7d4937
dialog =  gov.nist.javax.sip.stack.SIPDialog@1178e05
Dialog checked.
Printing TransactionsMappingTable...
***********************************************
this = gov.nist.sip.proxy.TransactionsMapping@181735b
TRANSACTIONS TABLE: 
- serverTransaction: gov.nist.javax.sip.stack.SIPServerTransaction@ecc4b23
   - state: Terminated Transaction
   - dialog: gov.nist.javax.sip.stack.SIPDialog@1178e05
   - dialog state: Confirmed Dialog
   - its clientTransaction: gov.nist.javax.sip.stack.SIPClientTransaction@61133b1d, state: Terminated Transaction
********************************************

Getting peer dialog...
RequestForwarding, forwardRequestStatefully(), cloned ACK forwarded statefully  (using the dialog from the first client transaction):
 ACK sip:192.168.1.2:9248 SIP/2.0
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 ACK
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: <sip:kostas@192.168.1.2:4000>;tag=32850875
Via: SIP/2.0/UDP 192.168.1.2:4000;branch=z9hG4bK7c82c839a834b78a20c6f2ea86e90caa,SIP/2.0/UDP 192.168.1.2:5750;branch=3139322e3136382e312e323a3537353
Max-Forwards: 69
Route: "test" <sip:192.168.1.2:9248;transport=udp>
Record-Route: <sip:192.168.1.2:4000>
Content-Length: 0



****************************************************
Request BYE received:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 BYE
To: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
From: <sip:kostas@192.168.1.2:4000>;tag=32850875
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bK08ea865013b7379dd72d5d2311a0bad5
Route: "test" <sip:192.168.1.2:5750;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: here is the  server transaction: gov.nist.javax.sip.stack.SIPServerTransaction@4534be56
DEBUG INFO: Its dialog is: gov.nist.javax.sip.stack.SIPDialog@1489391
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Received BYE
ProxyRouter: request:
BYE sip:192.168.1.2:4000;transport=udp SIP/2.0
Call-ID: 2c0cc7f57f00da9a0ccd791e4d95254f@192.168.1.2
CSeq: 1 BYE
To: "test" <sip:spiros@192.168.1.2:4000;transport=udp>
From: <sip:kostas@192.168.1.2:4000>
Max-Forwards: 69
Via: SIP/2.0/UDP 192.168.1.2:4000,SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bK08ea865013b7379dd72d5d2311a0bad5
Route: "test" <sip:192.168.1.2:5750;transport=udp>
Content-Length: 0


DEBUG, ProxyRouter, getNextHop(), The request has at least one route, we use the first one: 192.168.1.2:5750/udp

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 4784569ba4c9088d0748b75f3bb51988@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=2890524
To: "test" <sip:kostas@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bKb95be3d9ad2631ce82134a97ac12cc50
Max-Forwards: 70
Pwd: 2
Expires: 0
Contact: "test" <sip:192.168.1.2:9248;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostas@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostas@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostas@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:9248 has been removed for the key: sip:kostas@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:spiros@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5750;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostas@192.168.1.2:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostas@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostas@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:spiros@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5750;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:spiros@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5750;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 4784569ba4c9088d0748b75f3bb51988@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=2890524
To: "test" <sip:kostas@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bKb95be3d9ad2631ce82134a97ac12cc50
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 4784569ba4c9088d0748b75f3bb51988@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=2890524
To: "test" <sip:kostas@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:9248;branch=z9hG4bKb95be3d9ad2631ce82134a97ac12cc50
Max-Forwards: 70
Pwd: 2
Expires: 0
Contact: "test" <sip:192.168.1.2:9248;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: f885f1e67e18875ed8eaad224ad4cee9@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: "test" <sip:spiros@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bKfa7a9be95753e972a2676901256c35af
Max-Forwards: 70
Pwd: saf
Expires: 0
Contact: "test" <sip:192.168.1.2:5750;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:spiros@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:spiros@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:spiros@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:spiros@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:5750 has been removed for the key: sip:spiros@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:spiros@192.168.1.2:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:spiros@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:spiros@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: f885f1e67e18875ed8eaad224ad4cee9@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: "test" <sip:spiros@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bKfa7a9be95753e972a2676901256c35af
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: f885f1e67e18875ed8eaad224ad4cee9@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:spiros@192.168.1.2:4000;transport=udp>;tag=14759614
To: "test" <sip:spiros@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5750;branch=z9hG4bKfa7a9be95753e972a2676901256c35af
Max-Forwards: 70
Pwd: saf
Expires: 0
Contact: "test" <sip:192.168.1.2:5750;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:spiros@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 2b27a0fcdb130cb09ba4fc97731cf25b@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=6535361
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bK5857bc6557f63ac2e0a3b6159449e9a7
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
TimeoutEvent received
ERROR, Unable to retrieve the server transaction, cannot process timeout!

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 2c8a0e5624f4f6f1ef90e49afbc52481@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=6535361
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bK18d5fe9f4c8d452281b5a87d0863319b
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 19

SIGNUP kostas:::a:a
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 3ef120cedf14b264f7d991a142c31f25@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=6535361
To: "test" <sip:kostas@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bK6f79a82f5779f11b9378692e6c64a036
Max-Forwards: 70
Pwd: a
Expires: 3600
Contact: "test" <sip:192.168.1.2:32859;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "null"
Registrar, processRegister(), key is null 400 INVALID REQUEST replied
PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 3ef120cedf14b264f7d991a142c31f25@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:kostas@192.168.1.2:4000;transport=udp>;tag=6535361
To: "test" <sip:kostas@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bK6f79a82f5779f11b9378692e6c64a036
Max-Forwards: 70
Pwd: a
Expires: 3600
Contact: "test" <sip:192.168.1.2:32859;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostas@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: d9d59c2ea87830ca755b5b0857184fef@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bKe9c40c4d7fd19ef46301e365ae920c01
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 21

SIGNUP kostaras:::b:a
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: dd4d8c6f6c7fae2ff0ca7a528471ba7f@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bKd330a3828fe86b0a4ca05439e6e3adb0
Max-Forwards: 70
Pwd: b
Expires: 3600
Contact: "test" <sip:192.168.1.2:32859;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostaras@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostaras@192.168.1.2:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.2:32859 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:kostaras@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostaras@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:32859;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dd4d8c6f6c7fae2ff0ca7a528471ba7f@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bKd330a3828fe86b0a4ca05439e6e3adb0
Max-Forwards: 70
Contact: "test" <sip:192.168.1.2:32859;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: dd4d8c6f6c7fae2ff0ca7a528471ba7f@192.168.1.2
CSeq: 1 REGISTER
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bKd330a3828fe86b0a4ca05439e6e3adb0
Max-Forwards: 70
Pwd: b
Expires: 3600
Contact: "test" <sip:192.168.1.2:32859;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostaras@192.168.1.2:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.2:4000@192.168.1.2:4000 SIP/2.0
Call-ID: 9bb03880f5a4c5f6e7ef0a4cbd22546f@192.168.1.2
CSeq: 1 MESSAGE
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: <sip:192.168.1.2:4000@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKdef61f3cd3fa0223581567aa4c59167f
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 14

BLOCK kostaras
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request INVITE received:
INVITE sip:kostas@192.168.1.2:4000 SIP/2.0
Call-ID: 3543768d384dffef2ef13f08f297b798@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: <sip:kostas@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bK23056e00f3987952f103407f8cd899f9
Max-Forwards: 70
Contact: "test" <sip:192.168.1.2:32859;transport=udp>
Content-Type: application/sdp
Content-Length: 147

v=0
o=Michalis 0 0 IN IP4 192.168.1.2
s=-
c=IN IP4 192.168.1.2
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
m=video 22222 RTP/AVP 26 34 31

DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Proxy, processRequest(), we canonicalized the request-URI
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostas@192.168.1.2:4000" : not registered
Proxy, processRequest(), the registrar cannot help to decide the targets, so let's use our router: the default hop
Proxy, processRequest(), unable to set  the targets, 480 (Temporarily Unavailable) replied:
SIP/2.0 480 Temporarily Unavailable
Call-ID: 3543768d384dffef2ef13f08f297b798@192.168.1.2
CSeq: 1 INVITE
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: <sip:kostas@192.168.1.2:4000>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bK23056e00f3987952f103407f8cd899f9
Max-Forwards: 70
Content-Length: 0



****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: dd4d8c6f6c7fae2ff0ca7a528471ba7f@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bKc00e54fd7c88c63c43762dc1e422f77f
Max-Forwards: 70
Pwd: b
Expires: 0
Contact: "test" <sip:192.168.1.2:32859;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:kostaras@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:kostaras@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:kostaras@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:kostaras@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:32859 has been removed for the key: sip:kostaras@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:kostaras@192.168.1.2:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:kostaras@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:kostaras@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.2:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: dd4d8c6f6c7fae2ff0ca7a528471ba7f@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bKc00e54fd7c88c63c43762dc1e422f77f
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: dd4d8c6f6c7fae2ff0ca7a528471ba7f@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>;tag=6535361
To: "test" <sip:kostaras@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:32859;branch=z9hG4bKc00e54fd7c88c63c43762dc1e422f77f
Max-Forwards: 70
Pwd: b
Expires: 0
Contact: "test" <sip:192.168.1.2:32859;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:kostaras@192.168.1.2:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 71f3f18c24d8739721210d378e7a0edd@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: "test" <sip:ok@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb71f6a17495b2830e954c474fdb0da09
Max-Forwards: 70
Pwd: michali
Expires: 0
Contact: "test" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:ok@192.168.1.2:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:ok@192.168.1.2:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:ok@192.168.1.2:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:ok@192.168.1.2:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.2:5060 has been removed for the key: sip:ok@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:ok@192.168.1.2:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:ok@192.168.1.2:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:ok@192.168.1.2:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 71f3f18c24d8739721210d378e7a0edd@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: "test" <sip:ok@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb71f6a17495b2830e954c474fdb0da09
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.2:5060;transport=udp SIP/2.0
Call-ID: 71f3f18c24d8739721210d378e7a0edd@192.168.1.2
CSeq: 2 REGISTER
From: "test" <sip:ok@192.168.1.2:4000;transport=udp>;tag=1436506
To: "test" <sip:ok@192.168.1.2:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.2:5060;branch=z9hG4bKb71f6a17495b2830e954c474fdb0da09
Max-Forwards: 70
Pwd: michali
Expires: 0
Contact: "test" <sip:192.168.1.2:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:ok@192.168.1.2:4000
DEBUG properties set!
The proxy is responsible for the domain:192.168.1.2
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.2
DEBUG, ProxyRouter, the default route is: null
ERROR: listening point not created 
ERROR: listening point not created 
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************

ERROR, unable to see the traces, exception raised:

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: e608c87d2ce571c53dd2774bc8305296@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKb10e9131a5a06fb5f2be4b859122b2f3
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: e608c87d2ce571c53dd2774bc8305296@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKb10e9131a5a06fb5f2be4b859122b2f3
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: fcc18e1534a9f89489527608ca9dcdbd@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKa4e5215f573aa5b3f94d5181e58cf97d
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 640c6323bd40b9e17211c0a462ccf91c@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK3f23066f272627daf52e0e081b0aa98d
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 23

SIGNUP New:::123:Tomato
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: d2cd6ef382690e1c6ee049f19e7788d3@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKaaa0e1c8544364e555984ec3e7b8c9dd
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d2cd6ef382690e1c6ee049f19e7788d3@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKaaa0e1c8544364e555984ec3e7b8c9dd
Max-Forwards: 70
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: d2cd6ef382690e1c6ee049f19e7788d3@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKaaa0e1c8544364e555984ec3e7b8c9dd
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: d2cd6ef382690e1c6ee049f19e7788d3@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK3f2653db832d6ed9d7e63cbe8f4f464b
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:new@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:new@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:new@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: d2cd6ef382690e1c6ee049f19e7788d3@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK3f2653db832d6ed9d7e63cbe8f4f464b
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: d2cd6ef382690e1c6ee049f19e7788d3@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK3f2653db832d6ed9d7e63cbe8f4f464b
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 183191ea5a1106fc6a9aca9f82854a64@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK32c8d9e29c7acdc31a48c7155b471a7b
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 183191ea5a1106fc6a9aca9f82854a64@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK32c8d9e29c7acdc31a48c7155b471a7b
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: ef04caa3c87945b92397aeaa032a04b7@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7be0da8ab950dc6493f8bfe66de2c03d
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: b1124f18b2df946c119fb115bd6ca643@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK566fc37dbe13455539aef38ebab97e72
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b1124f18b2df946c119fb115bd6ca643@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK566fc37dbe13455539aef38ebab97e72
Max-Forwards: 70
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: b1124f18b2df946c119fb115bd6ca643@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK566fc37dbe13455539aef38ebab97e72
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: b1124f18b2df946c119fb115bd6ca643@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK03258c309ccf58b88d680e6b59f7e7b2
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:new@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:new@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:new@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: b1124f18b2df946c119fb115bd6ca643@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK03258c309ccf58b88d680e6b59f7e7b2
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: b1124f18b2df946c119fb115bd6ca643@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK03258c309ccf58b88d680e6b59f7e7b2
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: bf4f6ff90eeaf27cb7671970979d8640@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK46d90d20b136af5dd80a0fe9e2477d43
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 1fa9628afd028b60e63b6792f5ed1a44@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK20917a9efb8828e7c5ce0edde31f9732
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.4:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1fa9628afd028b60e63b6792f5ed1a44@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK20917a9efb8828e7c5ce0edde31f9732
Max-Forwards: 70
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 1fa9628afd028b60e63b6792f5ed1a44@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK20917a9efb8828e7c5ce0edde31f9732
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: c3113e74284f1cba95bbefc73e4dcf00@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKed39f1dbe5d3995ca1cefd3009af430e
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: e78072e41280f43f44077caeed34d370@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK54ba4a8230e98c8cc38817a41514aea9
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

PAY 1.0
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 967f5a02b42ccb70a19f33058b67b285@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK09eadc565c26949957a6cbc51da39289
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

BLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: dd1452a3436cda448189ac68117792ec@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe3523ff1a03e7978c2cea7f1d6075926
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: c21e5d85b2c75010607436e7c18df715@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK358e2d20ad7b7f743c7cabc4cba9df20
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

FORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 76cbdd8cf210905653915ed4ef912b12@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK53dc75c70865ec754e77c225710c4c0e
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

FORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 1fa9628afd028b60e63b6792f5ed1a44@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKcdd9130ba5c245da4e72cc1ec5b55a18
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:new@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:new@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:new@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 1fa9628afd028b60e63b6792f5ed1a44@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKcdd9130ba5c245da4e72cc1ec5b55a18
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 1fa9628afd028b60e63b6792f5ed1a44@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKcdd9130ba5c245da4e72cc1ec5b55a18
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 9e01b3c44f53bb3b7efb07c41c7a14cc@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK2e936b890e510d95eb622ce1d5e20076
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 9e01b3c44f53bb3b7efb07c41c7a14cc@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK2e936b890e510d95eb622ce1d5e20076
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: c9c4bf405d51a53b609f243815d32a3e@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK620910e487ff073656153f99702aacb8
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 0843ac9a656492cedac1e69b14a5d245@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK93589348f8f9f8a0bb101cc389b9c0bb
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 18

SIGNUP A:::123:New
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 0d693650f809f14178d0bb1016991aa4@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:A@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKdc0bcfc9db628b7c07a3420be2d50a70
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:a@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:a@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:a@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:a@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0d693650f809f14178d0bb1016991aa4@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:A@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKdc0bcfc9db628b7c07a3420be2d50a70
Max-Forwards: 70
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 0d693650f809f14178d0bb1016991aa4@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:A@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKdc0bcfc9db628b7c07a3420be2d50a70
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:A@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: ec8cc05c0bc594321a04b9aca033beba@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKbd6c2ea76f326562c4899f6f59e317e0
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

FORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 2fad7d4074b433bbd1844244d1ab21f1@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK1fb97514dc884f420324666d07e3fdd8
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

FORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: c28139b23d88b914db8b61b720986991@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKe8838b9cd58126ab87e254b3d182b99d
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

UNFORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 355a07bfb51e243ae303e444a378e125@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK6195120a8414d3f45da912fc471e4c82
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

UNFORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 2c5b2fd14067bad032ae409adaec69c9@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK3e3fa88026da598a13c9e4d23497953b
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 79176764af4d04f36e3a933d0b0f5e16@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK253c37f1e883fdcf4278e0617e580122
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

UNFORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: aceae29ce2718e600cc98141e0f31de6@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK5d2d46739c40eeb59a02596ca25fedf6
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

UNFORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 0d693650f809f14178d0bb1016991aa4@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:A@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK135c8a22ef846b0ac12acdcf69851ac0
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:a@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:a@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:a@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:a@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:a@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:a@192.168.1.4:4000"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:a@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:a@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 0d693650f809f14178d0bb1016991aa4@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:A@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK135c8a22ef846b0ac12acdcf69851ac0
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 0d693650f809f14178d0bb1016991aa4@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:A@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:A@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK135c8a22ef846b0ac12acdcf69851ac0
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:A@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 83f3f42664dcb5a3e7fa78fc115e0589@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK3d309c4ae49016dd020f60255ae1fffd
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: c8d91332ed2e12ff3bfd819be3e4bfe8@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKfbc224626f2c0e13634438375648955e
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 20

SIGNUP New:::123:New
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: fbb1dd46b6399566dae3f366bc2a8f71@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK76ab4ecc7340533c4102ae4af697323e
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), An old timer has  been stopped for the contact: sip:192.168.1.4:5060
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fbb1dd46b6399566dae3f366bc2a8f71@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK76ab4ecc7340533c4102ae4af697323e
Max-Forwards: 70
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: fbb1dd46b6399566dae3f366bc2a8f71@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK76ab4ecc7340533c4102ae4af697323e
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: f151c71868c687be8b41cc0a09d6db09@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKa2ab83328ae8c75c489599fa7eb9cf24
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

FORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 3cfcdeba586bcba5a2cab4a6777942e8@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK4fd02237a1955b4c68601937d4914ade
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

FORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 31337213a71596be91cda117d379e84c@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK1a33abef271c1adf2724453b020cd9d1
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

UNFORWARD A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: a17e727d8196b9b5152f4b36ef541c19@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK3e183b96193c2b94aba52c31d1b602e2
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 2b93a36157411aca444ca676c1310329@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK305c6427613abf83b57008f93706a3e4
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 7

BLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 490fee6a86a998af608ef9b4b1668f57@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7e7a5d09086baced22e0df6c3e16f053
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 4ca1513491cb992e20a04e1282f450dc@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK3f2361e17cfe54abe7af9ad236e9440a
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

UNBLOCK A
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: f858213d35b81288abc44531531fefa7@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK211bf75567fc76e6c1f5c5a8f4b060dc
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 6

CHECK 
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: fbb1dd46b6399566dae3f366bc2a8f71@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK381c949e0e2d3f6239853e96d2ed83c3
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : registered
RegistrationsTable, updateRegistration(), registration updated for the key: sip:new@192.168.1.4:4000
RegistrationsTable, removeContact(),  contact removed for the key: sip:new@192.168.1.4:4000
DEBUG, Registration, removeContactHeader(): The contact: sip:192.168.1.4:5060 has been removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 

************************************************

RegistrationsTable, removeContact(), the registration: sip:new@192.168.1.4:4000 does not contain any contacts, we remove it
RegistrationsTable, removeRegistration(),  registration removed for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:0
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: fbb1dd46b6399566dae3f366bc2a8f71@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK381c949e0e2d3f6239853e96d2ed83c3
Max-Forwards: 70
Expires: 0
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: fbb1dd46b6399566dae3f366bc2a8f71@192.168.1.4
CSeq: 2 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=33316792
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK381c949e0e2d3f6239853e96d2ed83c3
Max-Forwards: 70
Pwd: 123
Expires: 0
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000
Proxy Clean up

*****************************************************

Stopping the proxy
Proxy stopped

*****************************************************

DEBUG properties set!
The proxy is responsible for the domain:192.168.1.4
Here is one domain to take care of:there.com
Here is one domain to take care of:pingtel.com
Here is one domain to take care of:ubi.com
Here is one domain to take care of:hotmail.com
Here is one domain to take care of:nist.gov
Here is one domain to take care of:nitrogen.epact.se
Here is one domain to take care of:192.168.1.4
DEBUG, ProxyRouter, the default route is: null
We don't export the registrations because RMI is disabled.
Parsing the XML registrations file: ./gov/nist/sip/proxy/configuration/registrations.xml
Parsing XML registrations
XML Registrations parsed successfully!!!
Registrar, parseXMLregistrations(), Uploading of 2 registrations
RegistrationsTable, addRegistration(), registration  added for the key: sip:mranga@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:mranga@nist.gov
   DisplayName=Ranga 
   Contacts=[]
RegistrationsTable, addRegistration(), registration  added for the key: sip:deruelle@nist.gov
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

************************************************

PresenceServer.processUploadedRegistration: 
   Key=sip:deruelle@nist.gov
   DisplayName=Deruelle 
   Contacts=[]
Registrar, registerToProxies(), we have to register to 0 proxies

*****************************************************


****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 30f12ec05ecb84cccc391b28abb86646@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7a8048262a9bc555f7df040cdd783f20
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 30f12ec05ecb84cccc391b28abb86646@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:Takeo;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK7a8048262a9bc555f7df040cdd783f20
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

GETPOLICIES
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 7e2dbd3c5129299fee0ce5e99128f4ba@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKc85d14d7c415647b0956a8c75c53b876
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 22

SIGNUP New:::123:Basic
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request REGISTER received:
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 9849fe7501a1c809fc3d3d6c5a7dc143@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK089cacdb519f70befacbe09f8cc13205
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>
Content-Length: 0


DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
Incoming request Register
Registrar, processRegister(), key: "sip:new@192.168.1.4:4000"
RegistrationsTable, hasRegistration(), Checking registration for "sip:new@192.168.1.4:4000" : not registered
Registrar, hasExpiresZero(), the REGISTER has an Expires Header with expires time:3600
RegistrationsTable, startTimer(), timer started  for the contact: sip:192.168.1.4:5060 , expiresTime:3600
RegistrationsTable, addRegistration(), registration  added for the key: sip:new@192.168.1.4:4000
*********  Registration record *****************

registered user: "sip:mranga@nist.gov"
- contacts: 

registered user: "sip:deruelle@nist.gov"
- contacts: 

registered user: "sip:new@192.168.1.4:4000"
- contacts: 
  contact 1 : Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600

************************************************

Registrar, processRegister(),   we have to check if we have some SUBSCRIBE stored.
Registrar, processRegister(), response sent:
SIP/2.0 200 OK
Call-ID: 9849fe7501a1c809fc3d3d6c5a7dc143@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK089cacdb519f70befacbe09f8cc13205
Max-Forwards: 70
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0

PresenceServer:processRegisterRequest: received a request
REGISTER sip:192.168.1.4:5060;transport=udp SIP/2.0
Call-ID: 9849fe7501a1c809fc3d3d6c5a7dc143@192.168.1.4
CSeq: 1 REGISTER
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: "test" <sip:New@192.168.1.4:4000;transport=udp>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK089cacdb519f70befacbe09f8cc13205
Max-Forwards: 70
Pwd: 123
Expires: 3600
Contact: "test" <sip:192.168.1.4:5060;transport=udp>;expires=3600
Content-Length: 0


DEBUG, PresenceServer, getKey(), the key is: sip:New@192.168.1.4:4000

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 9a34b18b6eaa9ad374d03bb306509218@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bKa04dc5468dd2b508a7d17f7321abe0c6
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 9

BLOCK New
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...

****************************************************
Request MESSAGE received:
MESSAGE sip:192.168.1.4:4000@192.168.1.4:4000 SIP/2.0
Call-ID: 65047be250e2c94da76c0e979fc201cb@192.168.1.4
CSeq: 1 MESSAGE
From: "test" <sip:New@192.168.1.4:4000;transport=udp>;tag=8056047
To: <sip:192.168.1.4:4000@192.168.1.4:4000>
Via: SIP/2.0/UDP 192.168.1.4:5060;branch=z9hG4bK45cc172abcac2bc2a70d342c109eb411
Max-Forwards: 70
Content-Type: text/plain
Event:  presence
Content-Length: 11

UNBLOCK New
DEBUG TRANSACTION INFO: the transaction is null 
Proxy, processRequest(), we are responsible for the domain... Let's find the contact...
